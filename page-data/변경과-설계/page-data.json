{
    "componentChunkName": "component---src-template-post-tsx",
    "path": "/변경과-설계/",
    "result": {"data":{"allMarkdownRemark":{"nodes":[{"fields":{"slug":"/스프링-시큐리티-초기화-과정-이해/"},"timeToRead":23,"frontmatter":{"title":"[스프링 시큐리티] 초기화 과정 이해","series":"스프링 시큐리티"}},{"fields":{"slug":"/스프링-시큐리티-소개/"},"timeToRead":1,"frontmatter":{"title":"[스프링 시큐리티] 소개","series":"스프링 시큐리티"}},{"fields":{"slug":"/DBMS개요와-MySQL소개/"},"timeToRead":4,"frontmatter":{"title":"[MySQL] DBMS 개요와 MySQL 소개","series":"MySQL"}},{"fields":{"slug":"/코틀린에서-변수와-타입-연산자를-다루는-방법/"},"timeToRead":14,"frontmatter":{"title":"[코틀린] 코틀린에서 변수와 타입, 연산자를 다루는 방법","series":"코틀린"}},{"fields":{"slug":"/컴퓨터-구조-개요/"},"timeToRead":6,"frontmatter":{"title":"[컴퓨터 구조] 컴퓨터 구조 개요","series":"cs"}},{"fields":{"slug":"/컴퓨터-구성-요소/"},"timeToRead":4,"frontmatter":{"title":"[컴퓨터 구조] 컴퓨터 구성 요소","series":"cs"}},{"fields":{"slug":"/aws-강의-소개/"},"timeToRead":3,"frontmatter":{"title":"[AWS] 소개","series":"aws"}},{"fields":{"slug":"/스프링-배치-강좌-소개/"},"timeToRead":1,"frontmatter":{"title":"[스프링 배치] 소개","series":"스프링 배치"}},{"fields":{"slug":"/java-to-kotlin-소개/"},"timeToRead":2,"frontmatter":{"title":"[코틀린] 소개","series":"코틀린"}},{"fields":{"slug":"/알고리즘/"},"timeToRead":5,"frontmatter":{"title":"[알고리즘] 알고리즘","series":"알고리즘"}},{"fields":{"slug":"/자료구조/"},"timeToRead":17,"frontmatter":{"title":"[알고리즘] 자료구조","series":"알고리즘"}},{"fields":{"slug":"/개요/"},"timeToRead":4,"frontmatter":{"title":"[알고리즘] 개요","series":"알고리즘"}},{"fields":{"slug":"/설계-확장하기/"},"timeToRead":11,"frontmatter":{"title":"[오브젝트] 설계 확장하기","series":"오브젝트 - 설계 원칙편"}},{"fields":{"slug":"/새로운-기능-추가하기/"},"timeToRead":18,"frontmatter":{"title":"[오브젝트] 새로운 기능 추가하기","series":"오브젝트 - 설계 원칙편"}},{"fields":{"slug":"/테스트와-의존성/"},"timeToRead":22,"frontmatter":{"title":"[오브젝트] 테스트와 의존성","series":"오브젝트 - 설계 원칙편"}},{"fields":{"slug":"/인터페이스-다듬기/"},"timeToRead":8,"frontmatter":{"title":"[오브젝트] 인터페이스 다듬기","series":"오브젝트 - 설계 원칙편"}},{"fields":{"slug":"/클래스로-나누기/"},"timeToRead":14,"frontmatter":{"title":"[오브젝트] 클래스로 나누기","series":"오브젝트 - 설계 원칙편"}},{"fields":{"slug":"/값-객체와-참조-객체/"},"timeToRead":7,"frontmatter":{"title":"[오브젝트] 값 객체와 참조 객체","series":"오브젝트 - 설계 원칙편"}},{"fields":{"slug":"/메서드-조합하기/"},"timeToRead":6,"frontmatter":{"title":"[오브젝트] 메서드 조합하기","series":"오브젝트 - 설계 원칙편"}},{"fields":{"slug":"/텍스트-어드벤쳐-게임/"},"timeToRead":8,"frontmatter":{"title":"[오브젝트] 텍스트 어드벤쳐 게임","series":"오브젝트 - 설계 원칙편"}},{"fields":{"slug":"/강의-소개/"},"timeToRead":2,"frontmatter":{"title":"[오브젝트] 강의 소개","series":"오브젝트 - 설계 원칙편"}},{"fields":{"slug":"/변경과-설계/"},"timeToRead":16,"frontmatter":{"title":"[오브젝트] 변경과 설계","series":"오브젝트 - 기초편"}},{"fields":{"slug":"/객체지향-구현/"},"timeToRead":7,"frontmatter":{"title":"[오브젝트] 객체지향 구현","series":"오브젝트 - 기초편"}},{"fields":{"slug":"/책임-할당하기/"},"timeToRead":8,"frontmatter":{"title":"[오브젝트] 책임 할당하기","series":"오브젝트 - 기초편"}},{"fields":{"slug":"/객체지향-기본-원칙/"},"timeToRead":4,"frontmatter":{"title":"[오브젝트] 객체지향 기본 원칙","series":"오브젝트 - 기초편"}},{"fields":{"slug":"/절차적인-설계-개선하기/"},"timeToRead":7,"frontmatter":{"title":"[오브젝트] 절차적인 설계 개선하기","series":"오브젝트 - 기초편"}},{"fields":{"slug":"/영화-예매-도메인/"},"timeToRead":2,"frontmatter":{"title":"[오브젝트] 영화 예매 도메인","series":"오브젝트 - 기초편"}},{"fields":{"slug":"/자바18부터-자바21까지/"},"timeToRead":19,"frontmatter":{"title":"[모던 자바] 자바18부터 자바21까지","series":"모던 자바"}},{"fields":{"slug":"/자바12부터-자바17까지/"},"timeToRead":17,"frontmatter":{"title":"[모던 자바] 자바12부터 자바17까지","series":"모던 자바"}},{"fields":{"slug":"/자바9-자바10-자바11/"},"timeToRead":29,"frontmatter":{"title":"[모던 자바] 자바9, 자바10, 자바11","series":"모던 자바"}},{"fields":{"slug":"/함수형-프로그래밍/"},"timeToRead":10,"frontmatter":{"title":"[자바 고급3] 함수형 프로그래밍","series":"자바 고급3"}},{"fields":{"slug":"/병렬-스트림/"},"timeToRead":25,"frontmatter":{"title":"[자바 고급3] 병렬 스트림","series":"자바 고급3"}},{"fields":{"slug":"/디폴트-메서드/"},"timeToRead":6,"frontmatter":{"title":"[자바 고급3] 디폴트 메서드","series":"자바 고급3"}},{"fields":{"slug":"/Optional/"},"timeToRead":17,"frontmatter":{"title":"[자바 고급3] Optional","series":"자바 고급3"}},{"fields":{"slug":"/스트림API3-컬렉터/"},"timeToRead":12,"frontmatter":{"title":"[자바 고급3] 스트림 API3 - 컬렉터","series":"자바 고급3"}},{"fields":{"slug":"/스트림API2-기능/"},"timeToRead":11,"frontmatter":{"title":"[자바 고급3] 스트림 API2 - 기능","series":"자바 고급3"}},{"fields":{"slug":"/스트림API1-기본/"},"timeToRead":10,"frontmatter":{"title":"[자바 고급3] 스트림 API1 - 기본","series":"자바 고급3"}},{"fields":{"slug":"/메서드-참조/"},"timeToRead":11,"frontmatter":{"title":"[자바 고급3] 메서드 참조","series":"자바 고급3"}},{"fields":{"slug":"/람다-vs-익명-클래스/"},"timeToRead":4,"frontmatter":{"title":"[자바 고급3] 람다 vs 익명 클래스","series":"자바 고급3"}},{"fields":{"slug":"/람다-활용/"},"timeToRead":18,"frontmatter":{"title":"[자바 고급3] 람다 활용","series":"자바 고급3"}},{"fields":{"slug":"/함수형-인터페이스/"},"timeToRead":11,"frontmatter":{"title":"[자바 고급3] 함수형 인터페이스","series":"자바 고급3"}},{"fields":{"slug":"/람다/"},"timeToRead":9,"frontmatter":{"title":"[자바 고급3] 람다","series":"자바 고급3"}},{"fields":{"slug":"/람다가-필요한-이유/"},"timeToRead":9,"frontmatter":{"title":"[자바 고급3] 람다가 필요한 이유","series":"자바 고급3"}},{"fields":{"slug":"/HTTP-서버-활용/"},"timeToRead":12,"frontmatter":{"title":"[자바 고급2] HTTP 서버 활용","series":"자바 고급2"}},{"fields":{"slug":"/애노테이션/"},"timeToRead":12,"frontmatter":{"title":"[자바 고급2] 애노테이션","series":"자바 고급2"}},{"fields":{"slug":"/리플렉션/"},"timeToRead":14,"frontmatter":{"title":"[자바 고급2] 리플렉션","series":"자바 고급2"}},{"fields":{"slug":"/HTTP-서버-만들기/"},"timeToRead":25,"frontmatter":{"title":"[자바 고급2] HTTP 서버 만들기","series":"자바 고급2"}},{"fields":{"slug":"/HTTP-기본-이론/"},"timeToRead":5,"frontmatter":{"title":"[자바 고급2] HTTP 기본 이론","series":"자바 고급2"}},{"fields":{"slug":"/채팅-프로그램/"},"timeToRead":21,"frontmatter":{"title":"[자바 고급2] 채팅 프로그램","series":"자바 고급2"}},{"fields":{"slug":"/네트워크-프로그램2/"},"timeToRead":16,"frontmatter":{"title":"[자바 고급2] 네트워크 프로그램2","series":"자바 고급2"}},{"fields":{"slug":"/네트워크-프로그램1/"},"timeToRead":18,"frontmatter":{"title":"[자바 고급2] 네트워크 프로그램1","series":"자바 고급2"}},{"fields":{"slug":"/네트워크-기본-이론/"},"timeToRead":14,"frontmatter":{"title":"[자바 고급2] 네트워크 - 기본 이론","series":"자바 고급2"}},{"fields":{"slug":"/File-Files/"},"timeToRead":8,"frontmatter":{"title":"[자바 고급2] File, Files","series":"자바 고급2"}},{"fields":{"slug":"/IO-활용/"},"timeToRead":9,"frontmatter":{"title":"[자바 고급2] I/O 활용","series":"자바 고급2"}},{"fields":{"slug":"/IO-기본2/"},"timeToRead":6,"frontmatter":{"title":"[자바 고급2] I/O 기본2","series":"자바 고급2"}},{"fields":{"slug":"/IO-기본1/"},"timeToRead":15,"frontmatter":{"title":"[자바 고급2] I/O 기본1","series":"자바 고급2"}},{"fields":{"slug":"/문자-인코딩/"},"timeToRead":10,"frontmatter":{"title":"[자바 고급2] 문자 인코딩","series":"자바 고급2"}},{"fields":{"slug":"/스레드-풀과-Executor-프레임워크2/"},"timeToRead":14,"frontmatter":{"title":"[자바 고급1] 스레드 풀과 Executor 프레임워크2","series":"자바 고급1"}},{"fields":{"slug":"/스레드-풀과-Executor-프레임워크1/"},"timeToRead":20,"frontmatter":{"title":"[자바 고급1] 스레드 풀과 Executor 프레임워크1","series":"자바 고급1"}},{"fields":{"slug":"/동시성-컬렉션/"},"timeToRead":9,"frontmatter":{"title":"[자바 고급1] 동시성 컬렉션","series":"자바 고급1"}},{"fields":{"slug":"/CAS-동기화와-원자적-연산/"},"timeToRead":14,"frontmatter":{"title":"[자바 고급1] CAS - 동기화와 원자적 연산","series":"자바 고급1"}},{"fields":{"slug":"/생산자-소비자-문제2/"},"timeToRead":11,"frontmatter":{"title":"[자바 고급1] 생산자 소비자 문제2","series":"자바 고급1"}},{"fields":{"slug":"/생산자-소비자-문제1/"},"timeToRead":14,"frontmatter":{"title":"[자바 고급1] 생산자 소비자 문제1","series":"자바 고급1"}},{"fields":{"slug":"/고급-동기화-concurrent-Lock/"},"timeToRead":11,"frontmatter":{"title":"[자바 고급1] 고급 동기화 - concurrent.Lock","series":"자바 고급1"}},{"fields":{"slug":"/동기화-synchronized/"},"timeToRead":7,"frontmatter":{"title":"[자바 고급1] 동기화 - synchronized","series":"자바 고급1"}},{"fields":{"slug":"/메모리-가시성/"},"timeToRead":5,"frontmatter":{"title":"[자바 고급1] 메모리 가시성","series":"자바 고급1"}},{"fields":{"slug":"/스레드-제어와-생명주기2/"},"timeToRead":11,"frontmatter":{"title":"[자바 고급1] 스레드 제어와 생명주기2","series":"자바 고급1"}},{"fields":{"slug":"/스레드-제어와-생명주기1/"},"timeToRead":12,"frontmatter":{"title":"[자바 고급1] 스레드 제어와 생명주기1","series":"자바 고급1"}},{"fields":{"slug":"/스레드-생성과-실행/"},"timeToRead":8,"frontmatter":{"title":"[자바 고급1] 스레드 생성과 실행","series":"자바 고급1"}},{"fields":{"slug":"/프로세스와-스레드-소개/"},"timeToRead":9,"frontmatter":{"title":"[자바 고급1] 프로세스와 스레드 소개","series":"자바 고급1"}},{"fields":{"slug":"/컬렉션-프레임워크-순회-정렬-전체-정리/"},"timeToRead":16,"frontmatter":{"title":"[자바 중급2] 컬렉션 프레임워크 - 순회, 정렬, 전체 정리","series":"자바 중급2"}},{"fields":{"slug":"/컬렉션-프레임워크-Map-Stack-Queue/"},"timeToRead":7,"frontmatter":{"title":"[자바 중급2] 컬렉션 프레임워크 - Map, Stack, Queue","series":"자바 중급2"}},{"fields":{"slug":"/컬렉션-프레임워크-Set/"},"timeToRead":6,"frontmatter":{"title":"[자바 중급2] 컬렉션 프레임워크 - Set","series":"자바 중급2"}},{"fields":{"slug":"/컬렉션-프레임워크-HashSet/"},"timeToRead":11,"frontmatter":{"title":"[자바 중급2] 컬렉션 프레임워크 - HashSet","series":"자바 중급2"}},{"fields":{"slug":"/컬렉션-프레임워크-Hash/"},"timeToRead":6,"frontmatter":{"title":"[자바 중급2] 컬렉션 프레임워크 - Hash","series":"자바 중급2"}},{"fields":{"slug":"/컬렉션-프레임워크-List/"},"timeToRead":17,"frontmatter":{"title":"[자바 중급2] 컬렉션 프레임워크 - List","series":"자바 중급2"}},{"fields":{"slug":"/컬렉션-프레임워크-LinkedList/"},"timeToRead":14,"frontmatter":{"title":"[자바 중급2] 컬렉션 프레임워크 - LinkedList","series":"자바 중급2"}},{"fields":{"slug":"/컬렉션-프레임워크-ArrayList/"},"timeToRead":15,"frontmatter":{"title":"[자바 중급2] 컬렉션 프레임워크 - ArrayList","series":"자바 중급2"}},{"fields":{"slug":"/제네릭2/"},"timeToRead":14,"frontmatter":{"title":"[자바 중급2] 제네릭2","series":"자바 중급2"}},{"fields":{"slug":"/제네릭1/"},"timeToRead":9,"frontmatter":{"title":"[자바 중급2] 제네릭1","series":"자바 중급2"}},{"fields":{"slug":"/예외처리2-실습/"},"timeToRead":17,"frontmatter":{"title":"[자바 중급1] 예외처리2 - 실습","series":"자바 중급1"}},{"fields":{"slug":"/예외처리1-이론/"},"timeToRead":12,"frontmatter":{"title":"[자바 중급1] 예외처리1 - 이론","series":"자바 중급1"}},{"fields":{"slug":"/중첩-클래스-내부-클래스2/"},"timeToRead":9,"frontmatter":{"title":"[자바 중급1] 중첩 클래스, 내부 클래스2","series":"자바 중급1"}},{"fields":{"slug":"/중첩-클래스-내부-클래스1/"},"timeToRead":11,"frontmatter":{"title":"[자바 중급1] 중첩 클래스, 내부 클래스1","series":"자바 중급1"}},{"fields":{"slug":"/날짜와-시간/"},"timeToRead":24,"frontmatter":{"title":"[자바 중급1] 날짜와 시간","series":"자바 중급1"}},{"fields":{"slug":"/열거형-enum/"},"timeToRead":7,"frontmatter":{"title":"[자바 중급1] 열거형-enum","series":"자바 중급1"}},{"fields":{"slug":"/래퍼-Class-클래스/"},"timeToRead":11,"frontmatter":{"title":"[자바 중급1] 래퍼, Class 클래스","series":"자바 중급1"}},{"fields":{"slug":"/String-클래스/"},"timeToRead":10,"frontmatter":{"title":"[자바 중급1] String 클래스","series":"자바 중급1"}},{"fields":{"slug":"/불변-객체/"},"timeToRead":7,"frontmatter":{"title":"[자바 중급1] 불변 객체","series":"자바 중급1"}},{"fields":{"slug":"/Object-클래스/"},"timeToRead":10,"frontmatter":{"title":"[자바 중급1] Object 클래스","series":"자바 중급1"}},{"fields":{"slug":"/다형성과-설계/"},"timeToRead":5,"frontmatter":{"title":"[자바 기본] 다형성과 설계","series":"자바 기본"}},{"fields":{"slug":"/다형성2/"},"timeToRead":10,"frontmatter":{"title":"[자바 기본] 다형성2","series":"자바 기본"}},{"fields":{"slug":"/다형성1/"},"timeToRead":8,"frontmatter":{"title":"[자바 기본] 다형성1","series":"자바 기본"}},{"fields":{"slug":"/상속/"},"timeToRead":7,"frontmatter":{"title":"[자바 기본] 상속","series":"자바 기본"}},{"fields":{"slug":"/final/"},"timeToRead":4,"frontmatter":{"title":"[자바 기본] final","series":"자바 기본"}},{"fields":{"slug":"/자바-메모리-구조와-static/"},"timeToRead":10,"frontmatter":{"title":"[자바 기본] 자바 메모리 구조와 static","series":"자바 기본"}},{"fields":{"slug":"/접근-제어자/"},"timeToRead":5,"frontmatter":{"title":"[자바 기본] 접근 제어자","series":"자바 기본"}},{"fields":{"slug":"/패키지/"},"timeToRead":6,"frontmatter":{"title":"[자바 기본] 패키지","series":"자바 기본"}},{"fields":{"slug":"/생성자/"},"timeToRead":6,"frontmatter":{"title":"[자바 기본] 생성자","series":"자바 기본"}},{"fields":{"slug":"/객체-지향-프로그래밍/"},"timeToRead":6,"frontmatter":{"title":"[자바 기본] 객체 지향 프로그래밍","series":"자바 기본"}},{"fields":{"slug":"/기본형과-참조형/"},"timeToRead":8,"frontmatter":{"title":"[자바 기본] 기본형과 참조형","series":"자바 기본"}},{"fields":{"slug":"/클래스와-데이터/"},"timeToRead":6,"frontmatter":{"title":"[자바 기본] 클래스와 데이터","series":"자바 기본"}},{"fields":{"slug":"/99클럽-day10/"},"timeToRead":2,"frontmatter":{"title":"[99클럽] 면접반 10일차","series":"면접"}},{"fields":{"slug":"/99클럽-day9/"},"timeToRead":1,"frontmatter":{"title":"[99클럽] 면접반 9일차","series":"면접"}},{"fields":{"slug":"/메서드/"},"timeToRead":8,"frontmatter":{"title":"[자바 입문] 메서드","series":"자바 입문"}},{"fields":{"slug":"/배열/"},"timeToRead":7,"frontmatter":{"title":"[자바 입문] 배열","series":"자바 입문"}},{"fields":{"slug":"/훈련/"},"timeToRead":3,"frontmatter":{"title":"[자바 입문] 훈련","series":"자바 입문"}},{"fields":{"slug":"/스코프-형변환/"},"timeToRead":5,"frontmatter":{"title":"[자바 입문] 스코프, 형변환","series":"자바 입문"}},{"fields":{"slug":"/반복문/"},"timeToRead":6,"frontmatter":{"title":"[자바 입문] 반복문","series":"자바 입문"}},{"fields":{"slug":"/조건문/"},"timeToRead":7,"frontmatter":{"title":"[자바 입문] 조건문","series":"자바 입문"}},{"fields":{"slug":"/99클럽-day8/"},"timeToRead":1,"frontmatter":{"title":"[99클럽] 면접반 8일차","series":"면접"}},{"fields":{"slug":"/책-관리-예제-백엔드-개발/"},"timeToRead":6,"frontmatter":{"title":"[스프링 입문] 책 관리 예제 - 백엔드 개발","series":"스프링"}},{"fields":{"slug":"/연산자/"},"timeToRead":6,"frontmatter":{"title":"[자바 입문] 연산자","series":"자바 입문"}},{"fields":{"slug":"/99클럽-day7/"},"timeToRead":1,"frontmatter":{"title":"[99클럽] 면접반 7일차","series":"면접"}},{"fields":{"slug":"/변수/"},"timeToRead":8,"frontmatter":{"title":"[자바 입문] 변수","series":"자바 입문"}},{"fields":{"slug":"/99클럽-day6/"},"timeToRead":1,"frontmatter":{"title":"[99클럽] 면접반 6일차","series":"면접"}},{"fields":{"slug":"/스프링-웹-개발-기초/"},"timeToRead":2,"frontmatter":{"title":"[스프링 입문] 스프링 웹 개발 기초","series":"스프링"}},{"fields":{"slug":"/프로젝트-환경설정/"},"timeToRead":5,"frontmatter":{"title":"[스프링 입문] 프로젝트 환경 설정","series":"스프링"}},{"fields":{"slug":"/Hello-World/"},"timeToRead":6,"frontmatter":{"title":"[자바 입문] Hello World","series":"자바 입문"}},{"fields":{"slug":"/99클럽-day5/"},"timeToRead":2,"frontmatter":{"title":"[99클럽] 면접반 5일차","series":"면접"}},{"fields":{"slug":"/99클럽-day4/"},"timeToRead":1,"frontmatter":{"title":"[99클럽] 면접반 4일차","series":"면접"}},{"fields":{"slug":"/Multi-Modules-프로젝트/"},"timeToRead":12,"frontmatter":{"title":"[Gradle] Multi Modules 프로젝트","series":"gradle"}},{"fields":{"slug":"/99클럽-day3/"},"timeToRead":3,"frontmatter":{"title":"[99클럽] 면접반 3일차","series":"면접"}},{"fields":{"slug":"/Core-Type에-대한-이해/"},"timeToRead":7,"frontmatter":{"title":"[Gradle] Core Type에 대한 이해","series":"gradle"}},{"fields":{"slug":"/99클럽-day2/"},"timeToRead":2,"frontmatter":{"title":"[99클럽] 면접반 2일차","series":"면접"}},{"fields":{"slug":"/Groovy-언어의-기본/"},"timeToRead":8,"frontmatter":{"title":"[Gradle] Groovy 언어의 기본","series":"gradle"}},{"fields":{"slug":"/99클럽-day1/"},"timeToRead":6,"frontmatter":{"title":"[99클럽] 면접반 1일차","series":"면접"}},{"fields":{"slug":"/Gradle-기본/"},"timeToRead":9,"frontmatter":{"title":"[Gradle] Gradle 기본","series":"gradle"}},{"fields":{"slug":"/중요한-것은-포기하지-않는-마음/"},"timeToRead":3,"frontmatter":{"title":"2025년 1분기 회고(feat. 중요한 것은 포기하지 않는 마음)","series":"일상 이야기"}},{"fields":{"slug":"/Gradle-Introduction/"},"timeToRead":4,"frontmatter":{"title":"[Gradle] Introduction","series":"gradle"}},{"fields":{"slug":"/IntelliJ-플러그인/"},"timeToRead":2,"frontmatter":{"title":"[IntelliJ IDEA] 플러그인","series":"인텔리제이"}},{"fields":{"slug":"/IntelliJ-Git-Github/"},"timeToRead":3,"frontmatter":{"title":"[IntelliJ IDEA] Git & Github","series":"인텔리제이"}},{"fields":{"slug":"/IntelliJ-디버깅/"},"timeToRead":3,"frontmatter":{"title":"[IntelliJ IDEA] 디버깅","series":"인텔리제이"}},{"fields":{"slug":"/IntelliJ-리팩토링/"},"timeToRead":2,"frontmatter":{"title":"[IntelliJ IDEA] 리팩토링","series":"인텔리제이"}},{"fields":{"slug":"/IntelliJ-자동완성/"},"timeToRead":2,"frontmatter":{"title":"[IntelliJ IDEA] 자동완성","series":"인텔리제이"}},{"fields":{"slug":"/IntelliJ-검색/"},"timeToRead":2,"frontmatter":{"title":"[IntelliJ IDEA] 검색","series":"인텔리제이"}},{"fields":{"slug":"/IntelliJ-포커스/"},"timeToRead":2,"frontmatter":{"title":"[IntelliJ IDEA] 포커스","series":"인텔리제이"}},{"fields":{"slug":"/IntelliJ-코드-Edit/"},"timeToRead":4,"frontmatter":{"title":"[IntelliJ IDEA] 코드 Edit","series":"인텔리제이"}},{"fields":{"slug":"/IntelliJ-소개/"},"timeToRead":2,"frontmatter":{"title":"[IntelliJ IDEA] 소개","series":"인텔리제이"}},{"fields":{"slug":"/2024년-주니어-개발자-회고록/"},"timeToRead":3,"frontmatter":{"title":"2024년 주니어 개발자 회고록","series":"일상 이야기"}},{"fields":{"slug":"/WDD/"},"timeToRead":1,"frontmatter":{"title":"WDD(Why-Driven-Development)","series":"생각정리"}},{"fields":{"slug":"/내가-개발자-커리어를-시작한-이유/"},"timeToRead":4,"frontmatter":{"title":"내가 개발자 커리어를 시작한 이유","series":"일상"}},{"fields":{"slug":"/블로그-이관-및-회고/"},"timeToRead":3,"frontmatter":{"title":"블로그 이관 및 회고","series":"일상 이야기"}},{"fields":{"slug":"/Spring-Boot-3.2.x-더-이상-바이트코드를-구문-분석하여-매개변수-이름을-추론하려고-시도하지-않습니다/"},"timeToRead":3,"frontmatter":{"title":"Spring Boot 3.2.x 더 이상 바이트코드를 구문 분석하여 매개변수 이름을 추론하려고 시도하지 않습니다.","series":"트러블 슈팅"}},{"fields":{"slug":"/라떼-개발자/"},"timeToRead":2,"frontmatter":{"title":"라떼 개발자","series":"생각정리"}},{"fields":{"slug":"/2023년-주니어-개발자-회고록/"},"timeToRead":5,"frontmatter":{"title":"2023년 주니어 개발자 회고록","series":"일상 이야기"}}],"group":[{"fieldValue":"MySQL","totalCount":1},{"fieldValue":"aws","totalCount":1},{"fieldValue":"cs","totalCount":2},{"fieldValue":"gradle","totalCount":5},{"fieldValue":"면접","totalCount":10},{"fieldValue":"모던 자바","totalCount":3},{"fieldValue":"생각정리","totalCount":2},{"fieldValue":"스프링","totalCount":3},{"fieldValue":"스프링 배치","totalCount":1},{"fieldValue":"스프링 시큐리티","totalCount":2},{"fieldValue":"알고리즘","totalCount":3},{"fieldValue":"오브젝트 - 기초편","totalCount":6},{"fieldValue":"오브젝트 - 설계 원칙편","totalCount":9},{"fieldValue":"인텔리제이","totalCount":9},{"fieldValue":"일상","totalCount":1},{"fieldValue":"일상 이야기","totalCount":4},{"fieldValue":"자바 고급1","totalCount":13},{"fieldValue":"자바 고급2","totalCount":14},{"fieldValue":"자바 고급3","totalCount":13},{"fieldValue":"자바 기본","totalCount":12},{"fieldValue":"자바 입문","totalCount":9},{"fieldValue":"자바 중급1","totalCount":10},{"fieldValue":"자바 중급2","totalCount":10},{"fieldValue":"코틀린","totalCount":2},{"fieldValue":"트러블 슈팅","totalCount":1}]},"markdownRemark":{"id":"d611171d-a797-500b-85f2-03ba133c46ac","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAApUlEQVQoz6WRPQvCQAyG+///R6GKm6AndhIcrNaiXVzEaqVaPym9Xs67XuIgiEvFw2whPDxJXof+KOf7uD4cUWtLGJGIHpMA2PDdWpgBqRyNOfMVkTHmV/ilSW7QjfPF+hRnpVC1hVkb3Nxla54NVpczVw1bN8Co9TbJw7QIdsX+Wtk9DHklXU+3O6bXl66HIG1gIQTzIVrCNJSzCJWyzLnp0A/4CfW+SjF6WKSqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"배너 이미지\"\n        title=\"배너 이미지\"\n        src=\"/static/3189e9c0404650ccc6c5ffc998bc8717/2bef9/banner.png\"\n        srcset=\"/static/3189e9c0404650ccc6c5ffc998bc8717/6f3f2/banner.png 256w,\n/static/3189e9c0404650ccc6c5ffc998bc8717/01e7c/banner.png 512w,\n/static/3189e9c0404650ccc6c5ffc998bc8717/2bef9/banner.png 1024w,\n/static/3189e9c0404650ccc6c5ffc998bc8717/71c1d/banner.png 1536w,\n/static/3189e9c0404650ccc6c5ffc998bc8717/e8950/banner.png 2000w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<blockquote>\n<p>해당 블로그 글은 <a href=\"https://inf.run/eUUx4\">조영호님의 인프런 강의</a>를 바탕으로 쓰여진 글입니다.</p>\n</blockquote>\n<h2>변경과 설계</h2>\n<p>우리는 영황 예매 시스템을 설계하면서 절차지향적 관점에서의 설계와 객체지향적 관점에서의 설계 방식을 모두 알아 보았다. 절차지향적 설계는 데이터와 프로세스를 분리하여 설계를 진행했던 반면에 객체지향적 설계는 데이터와 프로세스를 하나의 모듈로 묶어서 설계를 진행하였다.</p>\n<p>그럼 여기서 근본적인 질문을 한번 던져보겠다. 훌륭한 설계란 무엇일까? 훌륭한 설계란 응집도가 높고 결합도가 낮고 캡슐화를 지키도록 코드를 배치하는 설계 방식이 보통 훌륭한 설계라고 말한다. 그럼 이런 훌륭한 설계를 진행함에 있어서 <strong>응집도</strong>, <strong>결합도</strong>, <strong>캡슐화</strong>이 무엇인지 알고 해당 관점에서 살펴봐야 할 것이다.</p>\n<h3>응집도</h3>\n<p>응집도란, 모듈 내부 요소들 사이의 기능적인 부분에 집중을 나타내는 것을 의미한다. 즉, 모듈 내부에 데이터와 메서드 간에 관련된 정도를 뜻하는 것이다. 보통 하나의 기능에 집중된 모듈을 응집도가 높다라고 표현하며, 서로 다른 기능이 혼재된 모듈을 응집도가 낮다라고 표현한다. 즉, 훌륭한 설계를 진행하려면 응집도가 높은 설계를 진행해야 한다.</p>\n<h3>결합도</h3>\n<p>결합도란, 모듈이 외부의 다른 모듈에 의존하는 정도를 의미한다. 즉, 모듈이 다른 모듈에 대해 알고있는 지식의 양을 뜻하는 것이다. 하나의 모듈이 다른 모듈에 의존하는 정도가 높으면 결합도가 높다 혹은 강하다라고 표현하며, 의존하는 정도가 낮으면 결합도가 낮다 혹은 약하다라고 표현한다. 훌륭한 설계를 진행하려면 결합도가 낮은 설계를 진행해야 한다.</p>\n<h3>캡슐화</h3>\n<p>캡슐화란, 내부의 데이터와 메서드를 하나의 단위로 묶는 과정을 의미한다. 이렇게 하나의 단위로 묶으면서 외부로부터 데이터에 대한 직접적인 접근을 제한하며 공용 인터페이스를 통해서만 접근을 허용하는 것이다.</p>\n<p>그러면 위의 응집도, 결합도, 캡슐화에 정의에 대해 살펴보았지만 이 정의만 딱 보고 코드 설계를 할 때 큰 도움이 될까? 물론 그러시는 독자분들도 있겠지만 필자 입장에서는 그리 크게 도움되지는 않는 것 같다. 즉, 뭔가 설계 가이드같은 것이 있으면 좋겠다는 생각이 든다. 하지만 실제 이런 가이드는 딱히 존재하지를 않는다.</p>\n<p>우리는 프로그램을 개발하면서 변경하기 쉽게 코드를 배치하는 것을 훌륭한 설계라고 한다. <code>SOLID</code> 원칙과 같이 유명한 모든 설계 원칙 이론들은 변경과 관련이 있다. 디자인 패턴도 마찬가지다. 디자인 패턴을 학습할 때 어떤 변경을 감추기 위해 어떤 디자인 패턴을 적용하는가에 대해 알아가는 것이다. 즉, 위의 응집도, 결합도, 캡슐화도 변경과 관련이 있는 것이다.</p>\n<p>그래서 가이드도 딱히 없는 이런 이론들을 우리가 우리만의 가이드를 만드듯이 절차지향적 설계와 객체지향적 설계를 위의 3가지 관점에서 살펴보면서 한번 비교해본다면 이것이 바로 가이드가 되지 않을까 싶다. 중요한 것은 모든 원칙들은 <strong>변경</strong>과 관련이 있다라는 것을 명심하자.</p>\n<p>또한, 코드를 작성하면서 우리는 미리 변경을 예상해서는 안된다. 변경의 축은 변경이 실제로 일어날 때만 변경의 축인 것이다. 이것은 처음에는 코드가 변경되지 않을 것이라고 생각하고 작성을 한다. 그리고 변경이 일어나면 나중에 일어날 그런 종류의 변경에 대해 보호하는 추상화를 구현한다.</p>\n<h2>응집도</h2>\n<p>그럼 지금부터 변경 관점에서 응집도, 결합도, 캡슐화에 대해 살펴보자. 그럼 첫번째로 변경 관점에서 응집도를 살펴보자.</p>\n<p>응집도의 전통적인 관점으로는 모듈 내부 요소들 사이의 기능적인 집중도를 의미한다. 즉, 모듈 내부의 데이터와 메서드 간에 관련된 정도를 의미한다. 이런 정도에 따라 응집도가 높다 혹은 낮다라고 표현하며 좋은 설계는 응집도가 높은 설계를 진행해야 한다.</p>\n<p>그러면 영화 예매 시스템에서 절차적인 설계 방식의 응집도는 어떨까?</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Money</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>domain<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>persistence<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ReservationService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">ScreeningDAO</span> screeningDAO<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">MovieDAO</span> movieDAO<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DiscountPolicyDAO</span> discountPolicyDAO<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DiscountConditionDAO</span> discountConditionDAO<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">ReservationDAO</span> reservationDAO<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">ReservationService</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ScreeningDAO</span> screeningDAO<span class=\"token punctuation\">,</span> <span class=\"token class-name\">MovieDAO</span> movieDAO<span class=\"token punctuation\">,</span> <span class=\"token class-name\">DiscountPolicyDAO</span> discountPolicyDAO<span class=\"token punctuation\">,</span>\n                              <span class=\"token class-name\">DiscountConditionDAO</span> discountConditionDAO<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ReservationDAO</span> reservationDAO<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>screeningDAO <span class=\"token operator\">=</span> screeningDAO<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>movieDAO <span class=\"token operator\">=</span> movieDAO<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>discountConditionDAO <span class=\"token operator\">=</span> discountConditionDAO<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>discountPolicyDAO <span class=\"token operator\">=</span> discountPolicyDAO<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>reservationDAO <span class=\"token operator\">=</span> reservationDAO<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Reservation</span> <span class=\"token function\">reserveScreening</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> customerId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> screeningId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span> audienceCount<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Screening</span> screening <span class=\"token operator\">=</span> screeningDAO<span class=\"token punctuation\">.</span><span class=\"token function\">selectScreening</span><span class=\"token punctuation\">(</span>screeningId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Movie</span> movie <span class=\"token operator\">=</span> movieDAO<span class=\"token punctuation\">.</span><span class=\"token function\">selectMovie</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">.</span><span class=\"token function\">getMovieId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">DiscountPolicy</span> policy <span class=\"token operator\">=</span> discountPolicyDAO<span class=\"token punctuation\">.</span><span class=\"token function\">selectDiscountPolicy</span><span class=\"token punctuation\">(</span>movie<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DiscountCondition</span><span class=\"token punctuation\">></span></span> conditions <span class=\"token operator\">=</span> discountConditionDAO<span class=\"token punctuation\">.</span><span class=\"token function\">selectDiscountConditions</span><span class=\"token punctuation\">(</span>policy<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">DiscountCondition</span> condition <span class=\"token operator\">=</span> <span class=\"token function\">findDiscountCondition</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">,</span> conditions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Money</span> fee<span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            fee <span class=\"token operator\">=</span> movie<span class=\"token punctuation\">.</span><span class=\"token function\">getFee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">minus</span><span class=\"token punctuation\">(</span><span class=\"token function\">calculateDiscount</span><span class=\"token punctuation\">(</span>policy<span class=\"token punctuation\">,</span> movie<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            fee <span class=\"token operator\">=</span> movie<span class=\"token punctuation\">.</span><span class=\"token function\">getFee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token class-name\">Reservation</span> reservation <span class=\"token operator\">=</span> <span class=\"token function\">makeReservation</span><span class=\"token punctuation\">(</span>customerId<span class=\"token punctuation\">,</span> screeningId<span class=\"token punctuation\">,</span> audienceCount<span class=\"token punctuation\">,</span> fee<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        reservationDAO<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>reservation<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> reservation<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DiscountCondition</span> <span class=\"token function\">findDiscountCondition</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screening</span> screening<span class=\"token punctuation\">,</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DiscountCondition</span><span class=\"token punctuation\">></span></span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">DiscountCondition</span> condition <span class=\"token operator\">:</span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition<span class=\"token punctuation\">.</span><span class=\"token function\">isPeriodCondition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">.</span><span class=\"token function\">isPlayedIn</span><span class=\"token punctuation\">(</span>condition<span class=\"token punctuation\">.</span><span class=\"token function\">getDayOfWeek</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        condition<span class=\"token punctuation\">.</span><span class=\"token function\">getStartTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        condition<span class=\"token punctuation\">.</span><span class=\"token function\">getEndTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">return</span> condition<span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition<span class=\"token punctuation\">.</span><span class=\"token function\">getSequence</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">.</span><span class=\"token function\">getSequence</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">return</span> condition<span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">calculateDiscount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DiscountPolicy</span> policy<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Movie</span> movie<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>policy<span class=\"token punctuation\">.</span><span class=\"token function\">isAmountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> policy<span class=\"token punctuation\">.</span><span class=\"token function\">getAmount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>policy<span class=\"token punctuation\">.</span><span class=\"token function\">isPercentPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> movie<span class=\"token punctuation\">.</span><span class=\"token function\">getFee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">times</span><span class=\"token punctuation\">(</span>policy<span class=\"token punctuation\">.</span><span class=\"token function\">getPercent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Money</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ZERO</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Reservation</span> <span class=\"token function\">makeReservation</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> customerId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> screeningId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span> audienceCount<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Money</span> fee<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">(</span>customerId<span class=\"token punctuation\">,</span> screeningId<span class=\"token punctuation\">,</span> audienceCount<span class=\"token punctuation\">,</span> fee<span class=\"token punctuation\">.</span><span class=\"token function\">times</span><span class=\"token punctuation\">(</span>audienceCount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위의 코드를 보면 변경의 관점에서 할인 정책이 바뀔때도 변경이 필요하며 할인 조건이 변경될 때도 위의 코드에 변경이 필요하다. 즉, 응집도가 낮은 코드라고 볼 수 있다. 응집도가 높다라는 것은 모듈 전체가 동일한 이유로 변경이 되어야 하며, 응집도가 낮은 것은 위의 코드처럼 모듈 각 부분이 서로 다른 이유로 변경되는 것을 의미한다.</p>\n<p>즉, 응집도는 변경의 이유가 동일해야 하며, 변경의 시점과 속도가 동일해야 한다. 높은 응집도는 모듈 전체가 동일한 시점에 동일한 속도로 변경되어야 하며 모듈 전체가 동일한 이유로 변경되어야 함을 의미한다.</p>\n<p>하지만 객체지향적 설계 관점에서는 딱 하나의 이유로만 변경이 된다. 아래의 코드를 보면 할인 정책은 할인 정책 계산 플로우가 변경될때만 코드가 변경이 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>domain</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Money</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DiscountPolicy</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DiscountCondition</span><span class=\"token punctuation\">></span></span> conditions<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">DiscountCondition</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>conditions <span class=\"token operator\">=</span> <span class=\"token class-name\">List</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span>conditions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">calculateDiscount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screening</span> screening<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">DiscountCondition</span> each <span class=\"token operator\">:</span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>each<span class=\"token punctuation\">.</span><span class=\"token function\">isSatisfiedBy</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token function\">getDiscountAmount</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Money</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ZERO</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">getDiscountAmount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screening</span> screening<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>이런 높은 응집도 관점을 <code>SOLID</code>원칙 중 SRP(단일 책임 원칙)에서 설명을 하고 있다. 그럼 여기서 가이드를 내려보겠다. 어떻게 해야 높은 응집도를 유지하면서 코드를 작성할 수 있을까?</p>\n<ul>\n<li>클래스가 하나 이상의 이유로 변경된다면 응집도가 낮은 것이다.\n<ul>\n<li>변경의 이유를 기준으로 클래스를 분리하자.</li>\n</ul>\n</li>\n<li>특정한 메서드 그룹이 특정한 속성 그룹만 사용한다면 응집도가 낮은 것이다.\n<ul>\n<li>함께 사용되는 메서드와 속성 그룹을 기준으로 클래스를 분리하자.</li>\n</ul>\n</li>\n<li>클래스의 인스턴스를 초기화할 때 경우에 따라 서로 다른 속성들을 초기화한다면(ex. null) 응집도가 낮은 것이다.\n<ul>\n<li>초기화되는 속성의 그룹을 기준으로 클래스를 분리하자.</li>\n</ul>\n</li>\n</ul>\n<h2>결합도</h2>\n<p>다음으로 변경 관점에서 결합도를 살펴보자.</p>\n<p>결합도의 전통적인 관점에서 바라보면 결합도는 모듈이 다른 외부의 다른 모듈에 의존하는 정도를 의미한다. 즉, 모듈에 대해 알고 있는 지식의 양을 뜻한다. 좋은 설계는 결합도가 낮은 설계를 뜻한다.</p>\n<p>그러면 절차지향적 관점 코드에서 결합도가 낮은지 높은지 판단해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Money</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>domain<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>persistence<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ReservationService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">ScreeningDAO</span> screeningDAO<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">MovieDAO</span> movieDAO<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DiscountPolicyDAO</span> discountPolicyDAO<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DiscountConditionDAO</span> discountConditionDAO<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">ReservationDAO</span> reservationDAO<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">ReservationService</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ScreeningDAO</span> screeningDAO<span class=\"token punctuation\">,</span> <span class=\"token class-name\">MovieDAO</span> movieDAO<span class=\"token punctuation\">,</span> <span class=\"token class-name\">DiscountPolicyDAO</span> discountPolicyDAO<span class=\"token punctuation\">,</span>\n                              <span class=\"token class-name\">DiscountConditionDAO</span> discountConditionDAO<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ReservationDAO</span> reservationDAO<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>screeningDAO <span class=\"token operator\">=</span> screeningDAO<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>movieDAO <span class=\"token operator\">=</span> movieDAO<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>discountConditionDAO <span class=\"token operator\">=</span> discountConditionDAO<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>discountPolicyDAO <span class=\"token operator\">=</span> discountPolicyDAO<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>reservationDAO <span class=\"token operator\">=</span> reservationDAO<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Reservation</span> <span class=\"token function\">reserveScreening</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> customerId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> screeningId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span> audienceCount<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Screening</span> screening <span class=\"token operator\">=</span> screeningDAO<span class=\"token punctuation\">.</span><span class=\"token function\">selectScreening</span><span class=\"token punctuation\">(</span>screeningId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Movie</span> movie <span class=\"token operator\">=</span> movieDAO<span class=\"token punctuation\">.</span><span class=\"token function\">selectMovie</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">.</span><span class=\"token function\">getMovieId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">DiscountPolicy</span> policy <span class=\"token operator\">=</span> discountPolicyDAO<span class=\"token punctuation\">.</span><span class=\"token function\">selectDiscountPolicy</span><span class=\"token punctuation\">(</span>movie<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DiscountCondition</span><span class=\"token punctuation\">></span></span> conditions <span class=\"token operator\">=</span> discountConditionDAO<span class=\"token punctuation\">.</span><span class=\"token function\">selectDiscountConditions</span><span class=\"token punctuation\">(</span>policy<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">DiscountCondition</span> condition <span class=\"token operator\">=</span> <span class=\"token function\">findDiscountCondition</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">,</span> conditions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Money</span> fee<span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            fee <span class=\"token operator\">=</span> movie<span class=\"token punctuation\">.</span><span class=\"token function\">getFee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">minus</span><span class=\"token punctuation\">(</span><span class=\"token function\">calculateDiscount</span><span class=\"token punctuation\">(</span>policy<span class=\"token punctuation\">,</span> movie<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            fee <span class=\"token operator\">=</span> movie<span class=\"token punctuation\">.</span><span class=\"token function\">getFee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token class-name\">Reservation</span> reservation <span class=\"token operator\">=</span> <span class=\"token function\">makeReservation</span><span class=\"token punctuation\">(</span>customerId<span class=\"token punctuation\">,</span> screeningId<span class=\"token punctuation\">,</span> audienceCount<span class=\"token punctuation\">,</span> fee<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        reservationDAO<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>reservation<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> reservation<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DiscountCondition</span> <span class=\"token function\">findDiscountCondition</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screening</span> screening<span class=\"token punctuation\">,</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DiscountCondition</span><span class=\"token punctuation\">></span></span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">DiscountCondition</span> condition <span class=\"token operator\">:</span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition<span class=\"token punctuation\">.</span><span class=\"token function\">isPeriodCondition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">.</span><span class=\"token function\">isPlayedIn</span><span class=\"token punctuation\">(</span>condition<span class=\"token punctuation\">.</span><span class=\"token function\">getDayOfWeek</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        condition<span class=\"token punctuation\">.</span><span class=\"token function\">getStartTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        condition<span class=\"token punctuation\">.</span><span class=\"token function\">getEndTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">return</span> condition<span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition<span class=\"token punctuation\">.</span><span class=\"token function\">getSequence</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">.</span><span class=\"token function\">getSequence</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">return</span> condition<span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">calculateDiscount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DiscountPolicy</span> policy<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Movie</span> movie<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>policy<span class=\"token punctuation\">.</span><span class=\"token function\">isAmountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> policy<span class=\"token punctuation\">.</span><span class=\"token function\">getAmount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>policy<span class=\"token punctuation\">.</span><span class=\"token function\">isPercentPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> movie<span class=\"token punctuation\">.</span><span class=\"token function\">getFee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">times</span><span class=\"token punctuation\">(</span>policy<span class=\"token punctuation\">.</span><span class=\"token function\">getPercent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Money</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ZERO</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Reservation</span> <span class=\"token function\">makeReservation</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> customerId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> screeningId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span> audienceCount<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Money</span> fee<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">(</span>customerId<span class=\"token punctuation\">,</span> screeningId<span class=\"token punctuation\">,</span> audienceCount<span class=\"token punctuation\">,</span> fee<span class=\"token punctuation\">.</span><span class=\"token function\">times</span><span class=\"token punctuation\">(</span>audienceCount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>domain</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Money</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DiscountPolicy</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">PolicyType</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token constant\">PERCENT_POLICY</span><span class=\"token punctuation\">,</span>\n        <span class=\"token constant\">AMOUNT_POLICY</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> movieId<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">PolicyType</span> policyType<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Money</span> amount<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Double</span> percent<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> movieId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">PolicyType</span> policyType<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Money</span> amount<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Double</span> percent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> movieId<span class=\"token punctuation\">,</span> policyType<span class=\"token punctuation\">,</span> amount<span class=\"token punctuation\">,</span> percent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> movieId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">PolicyType</span> policyType<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Money</span> amount<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Double</span> percent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>movieId <span class=\"token operator\">=</span> movieId<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>policyType <span class=\"token operator\">=</span> policyType<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>amount <span class=\"token operator\">=</span> amount<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>percent <span class=\"token operator\">=</span> percent<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Long</span> <span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setId</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Long</span> <span class=\"token function\">getMovieId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> movieId<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setMovieId</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> movieId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>movieId <span class=\"token operator\">=</span> movieId<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isAmountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">PolicyType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">AMOUNT_POLICY</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>policyType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isPercentPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">PolicyType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">PERCENT_POLICY</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>policyType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">PolicyType</span> <span class=\"token function\">getPolicyType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> policyType<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setPolicyType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PolicyType</span> policyType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>policyType <span class=\"token operator\">=</span> policyType<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">getAmount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> amount<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setAmount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Money</span> amount<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>amount <span class=\"token operator\">=</span> amount<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Double</span> <span class=\"token function\">getPercent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> percent<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setPercent</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Double</span> percent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>percent <span class=\"token operator\">=</span> percent<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위의 두 코드 <code>ReservationService</code>와 <code>DiscountPolicy</code>가 결합도가 높은지 낮은지 판단해보자. <code>ReservationService</code>는 <code>DiscountPolicy</code>를 의존하고 있다. 클래스 이름을 의존하고 있으며, 메서드 시그니쳐도 의존하고 있다. 그러면 결합도가 높을까? 낮을까?</p>\n<p>이를 판단하기 위해 객체지향적 설계 코드도 같이 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>domain</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Money</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Movie</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> title<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Money</span> fee<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DiscountPolicy</span> discountPolicy<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Movie</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> title<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Money</span> fee<span class=\"token punctuation\">,</span> <span class=\"token class-name\">DiscountPolicy</span> discountPolicy<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> title<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fee <span class=\"token operator\">=</span> fee<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>discountPolicy <span class=\"token operator\">=</span> discountPolicy<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Movie</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> title<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Money</span> fee<span class=\"token punctuation\">,</span> <span class=\"token class-name\">DiscountPolicy</span> discountPolicy<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">,</span> fee<span class=\"token punctuation\">,</span> discountPolicy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Long</span> <span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">calculateFee</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screening</span> screening<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> fee<span class=\"token punctuation\">.</span><span class=\"token function\">minus</span><span class=\"token punctuation\">(</span>discountPolicy<span class=\"token punctuation\">.</span><span class=\"token function\">calculateDiscount</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">getFee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> fee<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getTitle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> title<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>domain</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Money</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DiscountPolicy</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DiscountCondition</span><span class=\"token punctuation\">></span></span> conditions<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">DiscountCondition</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>conditions <span class=\"token operator\">=</span> <span class=\"token class-name\">List</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span>conditions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">calculateDiscount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screening</span> screening<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">DiscountCondition</span> each <span class=\"token operator\">:</span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>each<span class=\"token punctuation\">.</span><span class=\"token function\">isSatisfiedBy</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token function\">getDiscountAmount</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Money</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ZERO</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">getDiscountAmount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screening</span> screening<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>위의 2개의 <code>Movie</code>와 <code>DiscountPolicy</code>를 살펴보면 <code>Movie</code>는 <code>DiscountPolicy</code>를 의존한다. 일단 클래스 이름도 의존하고 있으며, 메서드 시그니쳐도 의존하고 있다. 그럼 위의 코드는 결합도가 높을까? 낮을까?</p>\n<p>결합도가 높은지 낮은지를 보려면 클래스 이름이나 메서드 시그니쳐로만 판단하지 말고 변경의 관점에서도 확인을 해야 한다. 즉, 외부의 다른 모듈에 변경이 발생했을 때 해당 모듈에 의존하고 있는 모듈이 변경이 어느정도가 되는지에 따라 판단해야 한다. 높은 결합도를 가진다면 외부의 모듈이 변경될 때 함께 변경되는 빈도가 상대적으로 높을 것이며 낮은 결합도를 가진다면 외부의 모듈이 변경될 때 함께 변경되는 빈도가 상대적으로 적은 것을 의미할 것이다.</p>\n<p>결합도를 낮추는 것은 함께 변경될 가능성을 낮추는 행위를 뜻한다. 그리고 해당 의존성을 제어하는 방식으로 구체적인 부분에 의존하는 것이 아닌 추상적인 부분에 의존하는 것을 뜻한다. 여기서 나오는 원칙이 하나 존재하는데 바로 <strong>의존성 제어의 원칙</strong>이다. 의존성 제어의 원칙은 자주 변하는 구체 부분과 자주 변하지 않는 추상화 부분을 나누는 것을 뜻한다. 그리고 의존성의 방향을 자주 변하지 않는 추상화에 의존시키는 방식을 의미한다. 즉, 추상화에 의존했을 때 결합도를 낮출 수 있다.</p>\n<p>즉, 결합도를 낮추는 설계를 하려면 먼저 추상화 부분과 구체 부분을 나눈 후 추상화에 의존시키도록 하는 것이다. 그렇게 하면 구체부분이 변경될 때 추상화 부분의 변경이 일어나는 부수효과를 막을 수 있기 때문이다. 그리고 협력이라는 측면에서 추상화는 인터페이스를 의미하게 된다. 또한 구체 부분을 구현이라고 의미하게 된다. 여기서 나오는 원칙이 존재하게 된다. 바로 <strong>인터페이스와 구현의 분리 원칙</strong>이다. 인터페이스와 구현의 분리 원칙은 구현이 아닌 인터페이스에 대해 프로그래밍하라는 원칙이다.</p>\n<p>그럼 코드를 비교해보면서 해당 원칙을 이해해보자. 절차지향적 코드를 다시한번 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>service</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Money</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>domain<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>persistence<span class=\"token punctuation\">.</span></span><span class=\"token operator\">*</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ReservationService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">ScreeningDAO</span> screeningDAO<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">MovieDAO</span> movieDAO<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DiscountPolicyDAO</span> discountPolicyDAO<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DiscountConditionDAO</span> discountConditionDAO<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">ReservationDAO</span> reservationDAO<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">ReservationService</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ScreeningDAO</span> screeningDAO<span class=\"token punctuation\">,</span> <span class=\"token class-name\">MovieDAO</span> movieDAO<span class=\"token punctuation\">,</span> <span class=\"token class-name\">DiscountPolicyDAO</span> discountPolicyDAO<span class=\"token punctuation\">,</span>\n                              <span class=\"token class-name\">DiscountConditionDAO</span> discountConditionDAO<span class=\"token punctuation\">,</span> <span class=\"token class-name\">ReservationDAO</span> reservationDAO<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>screeningDAO <span class=\"token operator\">=</span> screeningDAO<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>movieDAO <span class=\"token operator\">=</span> movieDAO<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>discountConditionDAO <span class=\"token operator\">=</span> discountConditionDAO<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>discountPolicyDAO <span class=\"token operator\">=</span> discountPolicyDAO<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>reservationDAO <span class=\"token operator\">=</span> reservationDAO<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Reservation</span> <span class=\"token function\">reserveScreening</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> customerId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> screeningId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span> audienceCount<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Screening</span> screening <span class=\"token operator\">=</span> screeningDAO<span class=\"token punctuation\">.</span><span class=\"token function\">selectScreening</span><span class=\"token punctuation\">(</span>screeningId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Movie</span> movie <span class=\"token operator\">=</span> movieDAO<span class=\"token punctuation\">.</span><span class=\"token function\">selectMovie</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">.</span><span class=\"token function\">getMovieId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">DiscountPolicy</span> policy <span class=\"token operator\">=</span> discountPolicyDAO<span class=\"token punctuation\">.</span><span class=\"token function\">selectDiscountPolicy</span><span class=\"token punctuation\">(</span>movie<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DiscountCondition</span><span class=\"token punctuation\">></span></span> conditions <span class=\"token operator\">=</span> discountConditionDAO<span class=\"token punctuation\">.</span><span class=\"token function\">selectDiscountConditions</span><span class=\"token punctuation\">(</span>policy<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">DiscountCondition</span> condition <span class=\"token operator\">=</span> <span class=\"token function\">findDiscountCondition</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">,</span> conditions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">Money</span> fee<span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition <span class=\"token operator\">!=</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            fee <span class=\"token operator\">=</span> movie<span class=\"token punctuation\">.</span><span class=\"token function\">getFee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">minus</span><span class=\"token punctuation\">(</span><span class=\"token function\">calculateDiscount</span><span class=\"token punctuation\">(</span>policy<span class=\"token punctuation\">,</span> movie<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            fee <span class=\"token operator\">=</span> movie<span class=\"token punctuation\">.</span><span class=\"token function\">getFee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token class-name\">Reservation</span> reservation <span class=\"token operator\">=</span> <span class=\"token function\">makeReservation</span><span class=\"token punctuation\">(</span>customerId<span class=\"token punctuation\">,</span> screeningId<span class=\"token punctuation\">,</span> audienceCount<span class=\"token punctuation\">,</span> fee<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        reservationDAO<span class=\"token punctuation\">.</span><span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>reservation<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> reservation<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DiscountCondition</span> <span class=\"token function\">findDiscountCondition</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screening</span> screening<span class=\"token punctuation\">,</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DiscountCondition</span><span class=\"token punctuation\">></span></span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">DiscountCondition</span> condition <span class=\"token operator\">:</span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition<span class=\"token punctuation\">.</span><span class=\"token function\">isPeriodCondition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">.</span><span class=\"token function\">isPlayedIn</span><span class=\"token punctuation\">(</span>condition<span class=\"token punctuation\">.</span><span class=\"token function\">getDayOfWeek</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        condition<span class=\"token punctuation\">.</span><span class=\"token function\">getStartTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                        condition<span class=\"token punctuation\">.</span><span class=\"token function\">getEndTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">return</span> condition<span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>condition<span class=\"token punctuation\">.</span><span class=\"token function\">getSequence</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">.</span><span class=\"token function\">getSequence</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">return</span> condition<span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">calculateDiscount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">DiscountPolicy</span> policy<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Movie</span> movie<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>policy<span class=\"token punctuation\">.</span><span class=\"token function\">isAmountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> policy<span class=\"token punctuation\">.</span><span class=\"token function\">getAmount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>policy<span class=\"token punctuation\">.</span><span class=\"token function\">isPercentPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> movie<span class=\"token punctuation\">.</span><span class=\"token function\">getFee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">times</span><span class=\"token punctuation\">(</span>policy<span class=\"token punctuation\">.</span><span class=\"token function\">getPercent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Money</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ZERO</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Reservation</span> <span class=\"token function\">makeReservation</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> customerId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> screeningId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span> audienceCount<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Money</span> fee<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Reservation</span><span class=\"token punctuation\">(</span>customerId<span class=\"token punctuation\">,</span> screeningId<span class=\"token punctuation\">,</span> audienceCount<span class=\"token punctuation\">,</span> fee<span class=\"token punctuation\">.</span><span class=\"token function\">times</span><span class=\"token punctuation\">(</span>audienceCount<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>domain</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Money</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DiscountPolicy</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">PolicyType</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token constant\">PERCENT_POLICY</span><span class=\"token punctuation\">,</span>\n        <span class=\"token constant\">AMOUNT_POLICY</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> movieId<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">PolicyType</span> policyType<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Money</span> amount<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Double</span> percent<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> movieId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">PolicyType</span> policyType<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Money</span> amount<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Double</span> percent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> movieId<span class=\"token punctuation\">,</span> policyType<span class=\"token punctuation\">,</span> amount<span class=\"token punctuation\">,</span> percent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> movieId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">PolicyType</span> policyType<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Money</span> amount<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Double</span> percent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>movieId <span class=\"token operator\">=</span> movieId<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>policyType <span class=\"token operator\">=</span> policyType<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>amount <span class=\"token operator\">=</span> amount<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>percent <span class=\"token operator\">=</span> percent<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Long</span> <span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setId</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Long</span> <span class=\"token function\">getMovieId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> movieId<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setMovieId</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> movieId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>movieId <span class=\"token operator\">=</span> movieId<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isAmountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">PolicyType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">AMOUNT_POLICY</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>policyType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isPercentPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">PolicyType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">PERCENT_POLICY</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>policyType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">PolicyType</span> <span class=\"token function\">getPolicyType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> policyType<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setPolicyType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PolicyType</span> policyType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>policyType <span class=\"token operator\">=</span> policyType<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">getAmount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> amount<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setAmount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Money</span> amount<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>amount <span class=\"token operator\">=</span> amount<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Double</span> <span class=\"token function\">getPercent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> percent<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setPercent</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Double</span> percent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>percent <span class=\"token operator\">=</span> percent<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code>calculateDiscount</code> 메서드는 <code>DiscountPolicy</code>의 <code>getter/setter</code>에 의존한다. 즉, <code>DiscountPolicy</code>의 <code>getter/setter</code>가 인터페이스가 되고 <code>DiscountPolicy</code>의 멤버 변수들이 구현부가 되는 것이다. 그럼 만약 구현부를 변경한다고 가정하자. 즉, 필드의 타입이나 멤버 변수 명을 변경하게 된다면 인터페이스가 대거 변경이 일어나고 <code>ReservationService</code>의 <code>calculateDiscount</code> 메서드의 변경도 발생하는 부수효과가 일어난다. 그럼 객체지향적인 설계 코드를 다시 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>domain</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Money</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Movie</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> title<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Money</span> fee<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">DiscountPolicy</span> discountPolicy<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Movie</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span> title<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Money</span> fee<span class=\"token punctuation\">,</span> <span class=\"token class-name\">DiscountPolicy</span> discountPolicy<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>title <span class=\"token operator\">=</span> title<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>fee <span class=\"token operator\">=</span> fee<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>discountPolicy <span class=\"token operator\">=</span> discountPolicy<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Movie</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> title<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Money</span> fee<span class=\"token punctuation\">,</span> <span class=\"token class-name\">DiscountPolicy</span> discountPolicy<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">,</span> fee<span class=\"token punctuation\">,</span> discountPolicy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Long</span> <span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">calculateFee</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screening</span> screening<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> fee<span class=\"token punctuation\">.</span><span class=\"token function\">minus</span><span class=\"token punctuation\">(</span>discountPolicy<span class=\"token punctuation\">.</span><span class=\"token function\">calculateDiscount</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">getFee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> fee<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getTitle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> title<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>domain</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Money</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DiscountPolicy</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DiscountCondition</span><span class=\"token punctuation\">></span></span> conditions<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">DiscountCondition</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>conditions <span class=\"token operator\">=</span> <span class=\"token class-name\">List</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span>conditions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">calculateDiscount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screening</span> screening<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">DiscountCondition</span> each <span class=\"token operator\">:</span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>each<span class=\"token punctuation\">.</span><span class=\"token function\">isSatisfiedBy</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token function\">getDiscountAmount</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Money</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ZERO</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">getDiscountAmount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screening</span> screening<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>domain</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Money</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PercentDiscountPolicy</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">DiscountPolicy</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">double</span> percent<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">PercentDiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">,</span> <span class=\"token keyword\">double</span> percent<span class=\"token punctuation\">,</span> <span class=\"token class-name\">DiscountCondition</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> conditions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>percent <span class=\"token operator\">=</span> percent<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">PercentDiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">double</span> percent<span class=\"token punctuation\">,</span> <span class=\"token class-name\">DiscountCondition</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span> <span class=\"token punctuation\">,</span> percent<span class=\"token punctuation\">,</span> conditions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">getDiscountAmount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screening</span> screening<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> screening<span class=\"token punctuation\">.</span><span class=\"token function\">getFixedFee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">times</span><span class=\"token punctuation\">(</span>percent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code>Movie</code> 클래스의 <code>calculateFee</code> 메서드는 <code>DiscountPolicy</code>의 <code>calculateDiscount</code>의 메서드에 의존한다. 즉, <code>DiscountPolicy</code>의 <code>calculateDiscount</code> 메서드가 인터페이스가 된다. 그리고 그 안의 로직이 구현부가 되며 그 로직에서 사용하는 멤버변수가 다른 메서드들도 구현부가 된다. 그럼 만약 구현부를 변경해보자. 그래도 인터페이스의 변경이나 외부 <code>Movie</code> 클래스의 변경은 일어나지 않는다. 이것이 낮은 결합도를 가진다고 말할 수 있는 것이다. 심지어 <code>DiscountPolicy</code> 자식 클래스의 멤버 변수나 구현 로직을 변경해도 외부 <code>Movie</code>에 변경이 전혀 없다.</p>\n<h2>캡슐화</h2>\n<p>마지막으로 변경의 관점에서의 캡슐화를 살펴보도록 하겠다. 전통적 의미의 캡슐화란 내부의 데이터와 메서드를 하나의 묶음으로 만들고 외부로부터 데이터에 대한 직접적인 접근을 막으면서 공용 인터페이스로 접근을 허용하는 것을 의미한다. 절차지향적 설계로 작성한 <code>DiscountPolicy</code>를 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>domain</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Money</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DiscountPolicy</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">PolicyType</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token constant\">PERCENT_POLICY</span><span class=\"token punctuation\">,</span>\n        <span class=\"token constant\">AMOUNT_POLICY</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> movieId<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">PolicyType</span> policyType<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Money</span> amount<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Double</span> percent<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> movieId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">PolicyType</span> policyType<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Money</span> amount<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Double</span> percent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span> movieId<span class=\"token punctuation\">,</span> policyType<span class=\"token punctuation\">,</span> amount<span class=\"token punctuation\">,</span> percent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Long</span> movieId<span class=\"token punctuation\">,</span> <span class=\"token class-name\">PolicyType</span> policyType<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Money</span> amount<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Double</span> percent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>movieId <span class=\"token operator\">=</span> movieId<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>policyType <span class=\"token operator\">=</span> policyType<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>amount <span class=\"token operator\">=</span> amount<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>percent <span class=\"token operator\">=</span> percent<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Long</span> <span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setId</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Long</span> <span class=\"token function\">getMovieId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> movieId<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setMovieId</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> movieId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>movieId <span class=\"token operator\">=</span> movieId<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isAmountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">PolicyType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">AMOUNT_POLICY</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>policyType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">isPercentPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">PolicyType</span><span class=\"token punctuation\">.</span><span class=\"token constant\">PERCENT_POLICY</span><span class=\"token punctuation\">.</span><span class=\"token function\">equals</span><span class=\"token punctuation\">(</span>policyType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">PolicyType</span> <span class=\"token function\">getPolicyType</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> policyType<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setPolicyType</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">PolicyType</span> policyType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>policyType <span class=\"token operator\">=</span> policyType<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">getAmount</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> amount<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setAmount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Money</span> amount<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>amount <span class=\"token operator\">=</span> amount<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Double</span> <span class=\"token function\">getPercent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> percent<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setPercent</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Double</span> percent<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>percent <span class=\"token operator\">=</span> percent<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>코드를 살펴보면 멤버 변수인 데이터와 <code>getter/setter</code>인 메서드로 분리되어 있고 데이터의 변경을 막을 수 있게 <code>private</code> 접근 제어자로 캡슐화를 진행하였다. 그럼 객체지향적 설계 코드를 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>domain</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Money</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DiscountPolicy</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">DiscountCondition</span><span class=\"token punctuation\">></span></span> conditions<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">DiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">,</span> <span class=\"token class-name\">DiscountCondition</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>conditions <span class=\"token operator\">=</span> <span class=\"token class-name\">List</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span>conditions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">calculateDiscount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screening</span> screening<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">DiscountCondition</span> each <span class=\"token operator\">:</span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>each<span class=\"token punctuation\">.</span><span class=\"token function\">isSatisfiedBy</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token function\">getDiscountAmount</span><span class=\"token punctuation\">(</span>screening<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Money</span><span class=\"token punctuation\">.</span><span class=\"token constant\">ZERO</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">getDiscountAmount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screening</span> screening<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-java line-numbers\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>reservation<span class=\"token punctuation\">.</span>domain</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token import\"><span class=\"token namespace\">me<span class=\"token punctuation\">.</span>sungbin<span class=\"token punctuation\">.</span>generic<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Money</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PercentDiscountPolicy</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">DiscountPolicy</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">double</span> percent<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">PercentDiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">,</span> <span class=\"token keyword\">double</span> percent<span class=\"token punctuation\">,</span> <span class=\"token class-name\">DiscountCondition</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">,</span> conditions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>percent <span class=\"token operator\">=</span> percent<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">PercentDiscountPolicy</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">double</span> percent<span class=\"token punctuation\">,</span> <span class=\"token class-name\">DiscountCondition</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> conditions<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span> <span class=\"token punctuation\">,</span> percent<span class=\"token punctuation\">,</span> conditions<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token class-name\">Money</span> <span class=\"token function\">getDiscountAmount</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Screening</span> screening<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> screening<span class=\"token punctuation\">.</span><span class=\"token function\">getFixedFee</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">times</span><span class=\"token punctuation\">(</span>percent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>객체지향적 설계 마찬가지로 데이터와 메서드를 분리하고 데이터를 <code>private</code> 접근 제어자를 두어 캡슐화를 진행했다. 그러면 절차적인 모듈과 객체지향 모듈 전부 같은 캡슐화인것일까?</p>\n<p>이 의문을 해결하기 위해서 캡슐화를 변경의 관점에서 살펴봐야 한다. 캡슐화를 변경의 관점에서 본다면 변경되는 부분을 내부로 숨기는 추상화 기법이라고 말하며 변경될 수 있는 어떤 것이라도 감추는 것을 의미한다.</p>\n<p>캡슐화는 낮은 결합도를 기반으로 작동한다. 인터페이스 뒤로 구현을 감춤으로써 변하는 부분을 캡슐화를 한 사실을 우리는 알고 있다. 이런 것을 우리는 타입 캡슐화라고 한다.</p>\n<p>또 다른 캡슐화의 예로 데이터 캡슐화가 존재한다. 데이터를 숨기고 안정적인 공용 인터페이스를 둠으로써 외부에 공개하는 기법을 의미한다. 그렇다고 해당 기법이 절차지향적 코드의 캡슐화가 아니다. 절차지향적 코드는 캡슐화인척을 한 것이다. 왜냐하면 외부 클래스가 구체(<code>getter/setter</code>)에 의존하고 있기 때문이다. 즉, 데이터 캡슐화는 데이터의 변경을 외부에 감춰야 하는데 <code>setter</code>가 존재함으로써 감출 수 없는 상황인 것이다.</p>\n<blockquote>\n<p>방금 살펴본 타입 캡슐화는 타입의 변경을 외부에 감춘 기법이라 한다.</p>\n</blockquote>\n<p>타입 캡슐화는 즉, 구체에 의존하는 것이 아닌 추상화에 의존하는 기법을 의미하며 추상화를 이용하여 변경을 통제하는 기법을 의미한다. 또한 이런 타입 캡슐화를 진행하면 상위 모듈과 하위 모듈 모두 추상화에 의존하는 구조로 변경이 될 것이다. 이런 것을 바로 <strong>의존성 역전의 원칙</strong>이라고 불린다. 그리고 런타임에 구체화된 클래스로 대체가 될텐데 여기서 나오는 원칙이 <strong>리스코프 치환 원칙</strong>이다. 그리고 기존 코드 수정없이도 기능을 확장할 수 있는 구조가 되는데 이것을 <strong>개방-폐쇄 원칙</strong>이라고 불린다.</p>\n<h2>설계 평가하기</h2>\n<p>응집도, 결합도, 캡슐화 관점에서 설계를 평가 및 트레이드 오프하는 과정을 살펴보자.</p>\n<p>먼저 응집도 관점에서 설계를 평가해보자.</p>\n<p>영화 예매 시스템 초창기에는 금액 할인 정책이 1가지 밖에 없다고 가정해보자. 이럴 경우 <code>Movie</code> 클래스 안에 할인 정책 계산 플로우를 넣어도 무방했을 것이다. 그러면 아마 <code>Movie</code> 클래스 안에서는 할인 금액과 할인 조건 목록을 필드로 가지고 할인 여부를 판단하는 로직과 할인 금액을 계산하는 로직이 포함되어 있을 것이다.</p>\n<p>그런데 서비스가 성장하면서 비율 할인 정책이 추가되었다고 해보자. 그러면 해당 <code>Movie</code> 클래스 안에 할인 정책의 종류와 조건문을 이용한 할인 정책의 타입에 따라 할인 금액을 계산하는 방법을 분기처리를 했을 것이다. 즉 해당 코드는 응집도 관점에서 매우 낮은 응집도를 가지고 있다.</p>\n<p>그래서 응집도를 높여야 하는데 우리가 알아본 응집도를 높이기 위한 첫번째 방법으로는 <strong>변경의 이유를 기준으로 클래스를 분리</strong>하는 작업을 해야 한다. <code>Movie</code> 클래스에서는 영화 요금 계산 플로우가 변경될 때 코드가 변경되며 금액 할인 정책, 비율 할인 정책이 변경될 때 코드가 변경이 된다. 이런 변경을 분리하기 가장 쉬운 방법은 바로 <strong>상속</strong>이다. 변경의 이유에 따른 코드를 부모 클래스와 자식 클래스로 분리해야 한다. 그럼 금액 할인 정책 별 클래스를 만들고 공통 기능은 <code>Movie</code>에 둔 채로 <code>Movie</code>를 상속받으면 해결이 된다.</p>\n<p>이제 결합도와 캡슐화 측명에서 설계를 평가해보자.</p>\n<p>현재 부모 클래스인 <code>Movie</code>와 자식 클래스 모두 추상 메서드를 의존하고 있다. 이로 인하여 외부 클래스가 <code>Movie</code>를 의존할 때 추상적인 <code>Movie</code>만 의존하면 런타임에 자식 클래스로 변경이 가능한 구조가 되었다. 즉, 리스코프 치환 원칙에도 들어 맞는다. 또한 계속 상속을 통하여 다양한 타입을 추가할 수 있어서 개방-폐쇠 원칙에도 들어맞는다. 하지만 데이터 캡슐화에 어긎난다. 왜냐하면 상속받은 자식클래스는 부모 클래스의 <code>protected</code>로 명시한 멤버 변수를 참조하기에 해당 멤버 변수가 변경이 되면 자식 클래스도 변경이 발생하기 때문이다. 또한 <code>extends Movie</code>로 명시적으로 상속을 했기에 컴파일 타임에 강한 결합이 생긴다.</p>\n<p>그리고 외부 클래스에서 해당 <code>Movie</code>를 의존성 주입을 할때 정책이 변경될때마다 새로운 인스턴스를 생성해야 하는 비용도 발생한다. 그래서 이런 문제를 우리는 상속이 아닌 합성으로 풀 수 있다. <code>DiscountPolicy</code>에 각 할인 정책 클래스들을 상속받게 하고 <code>Movie</code>가 <code>DiscountPolicy</code>를 바라보게 하는 것이다. 그러면 <code>Movie</code> 인스턴스를 유지하면서 할인 정책을 변경할 수 있을 것이다.</p>\n<blockquote>\n<p>자세한 코드는 우리가 이제까지 실습한 코드이기에 생략한다.</p>\n</blockquote>\n<blockquote>\n<p>잘못된 지식이 있을 경우 댓글로 남겨주시면 빠르게 반영하겠습니다!</p>\n</blockquote>","fields":{"slug":"/변경과-설계/"},"timeToRead":16,"frontmatter":{"title":"[오브젝트] 변경과 설계","tags":["자바"],"date":"2025-06-14T13:44:27.000Z","image":{"publicURL":"/static/3189e9c0404650ccc6c5ffc998bc8717/banner.png"},"series":"오브젝트 - 기초편"}}},"pageContext":{"id":"d611171d-a797-500b-85f2-03ba133c46ac"}},
    "staticQueryHashes": ["2580406332","3810308631"]}
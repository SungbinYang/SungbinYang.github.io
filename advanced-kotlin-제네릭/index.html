<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, minimal-ui"/><style data-href="/styles.06884e94fa8e7f768648.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}pre[class*=language-].line-numbers{counter-reset:linenumber;padding-left:3.8em;position:relative}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{border-right:1px solid #999;font-size:100%;left:-3.8em;letter-spacing:-1px;pointer-events:none;position:absolute;top:0;-webkit-user-select:none;-ms-user-select:none;user-select:none;width:3em}.line-numbers-rows>span{counter-increment:linenumber;display:block}.line-numbers-rows>span:before{color:#999;content:counter(linenumber);display:block;padding-right:.8em;text-align:right}</style><meta name="generator" content="Gatsby 4.4.0"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" title="Sungbin&#x27;s Blog RSS Feed" href="/rss.xml"/><title data-react-helmet="true">[코틀린 고급] 제네릭 · Sungbin</title><meta data-react-helmet="true" name="description" content="양성빈의 블로그"/><meta data-react-helmet="true" name="image" content="https://sungbin.kr/static/619e6175d83cd70c239721219e3cbc91/banner.png"/><meta data-react-helmet="true" property="og:url" content="https://sungbin.kr/advanced-kotlin-제네릭/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="[코틀린 고급] 제네릭"/><meta data-react-helmet="true" property="og:description" content="양성빈의 블로그"/><meta data-react-helmet="true" property="og:image" content="https://sungbin.kr/static/619e6175d83cd70c239721219e3cbc91/banner.png"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="[코틀린 고급] 제네릭"/><meta data-react-helmet="true" name="twitter:description" content="양성빈의 블로그"/><meta data-react-helmet="true" name="twitter:image" content="https://sungbin.kr/static/619e6175d83cd70c239721219e3cbc91/banner.png"/><meta data-react-helmet="true" name="google-site-verification" content="1PmwbFiy4YMimCQ6EmhZyUp2c7m23NNnr5NQRRXwQzM"/><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>            
              (adsbygoogle = window.adsbygoogle || []).push({
                google_ad_client: "ca-pub-8854437638395695",
                enable_page_level_ads: true
              });
          </script><link rel="icon" href="/favicon-32x32.png?v=64afaa923d984d8eeb697e501bbca8ed" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="36x36" href="/favicons/android-icon-36x36.png?v=64afaa923d984d8eeb697e501bbca8ed"/><link rel="apple-touch-icon" sizes="48x48" href="/favicons/android-icon-48x48.png?v=64afaa923d984d8eeb697e501bbca8ed"/><link rel="apple-touch-icon" sizes="72x72" href="/favicons/android-icon-72x72.png?v=64afaa923d984d8eeb697e501bbca8ed"/><link rel="apple-touch-icon" sizes="96x96" href="/favicons/android-icon-96x96.png?v=64afaa923d984d8eeb697e501bbca8ed"/><link rel="apple-touch-icon" sizes="144x144" href="/favicons/android-icon-144x144.png?v=64afaa923d984d8eeb697e501bbca8ed"/><link rel="apple-touch-icon" sizes="192x192" href="/favicons/android-icon-192x192.png?v=64afaa923d984d8eeb697e501bbca8ed"/><link as="script" rel="preload" href="/webpack-runtime-8bd3326d799737bed84d.js"/><link as="script" rel="preload" href="/framework-96f35882fb1b7fa32ef9.js"/><link as="script" rel="preload" href="/b633362c-429f9f687c864375c1ce.js"/><link as="script" rel="preload" href="/63a121f2-37023b2342386794d0fe.js"/><link as="script" rel="preload" href="/f3fee096-8a3be85b266f9ba6922d.js"/><link as="script" rel="preload" href="/3e15977f-5148ca5d1a687341b4e3.js"/><link as="script" rel="preload" href="/aec3edcd-33ff14c394bc1bedc44a.js"/><link as="script" rel="preload" href="/2425c7c2-8c4925ac74b0ebf7da0a.js"/><link as="script" rel="preload" href="/d0007318-557f95e6f5b855c64727.js"/><link as="script" rel="preload" href="/cc76255b-3222831408842f40a1cb.js"/><link as="script" rel="preload" href="/1593e758-7868fce8d5ccd9520ad2.js"/><link as="script" rel="preload" href="/48aa8186-67735c86ae4015d55662.js"/><link as="script" rel="preload" href="/app-3fa8deb48819dbe669b2.js"/><link as="script" rel="preload" href="/386142cf738b86b246078cd67abf8098b07f27c7-c2f146ac4a2834844fc5.js"/><link as="script" rel="preload" href="/component---src-template-post-tsx-7f5def86146fc29c9ead.js"/><link as="fetch" rel="preload" href="/page-data/advanced-kotlin-제네릭/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2580406332.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3810308631.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><style data-emotion="css-global 19c91lz">@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');:root{--font-family:'Pretendard',-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;--code-font-family:Menlo,'DM Mono','Roboto Mono',Courier New,monospace;--scrollbar-background:#1e1e1e;--scrollbar-thumb:#666;--scrollbar-thumb-highlight:#9195F6;}html{font-size:16px;height:100%;overflow-x:hidden;overflow-y:scroll;-webkit-overflow-scrolling:touch;scrollbar-width:8px;scrollbar-color:var(--scrollbar-thumb-highlight) var(--scrollbar-background);}@media screen and (max-width: 1024px){html{font-size:14px;}}html::-webkit-scrollbar{background:var(--scrollbar-background);height:8px;width:8px;}html::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb-highlight);border-radius:0;}html,body{font-family:var(--font-family)!important;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;font-size:1rem;}div,article,section{box-sizing:border-box;}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:1rem;font:inherit;vertical-align:baseline;}label,input,button,a{-webkit-tap-highlight-color:transparent;}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}table{border-collapse:collapse;border-spacing:0;}string{font-weight:600!important;}</style><style data-emotion="css pyz3l8">.css-pyz3l8{-webkit-transition:opacity 0.2s ease;transition:opacity 0.2s ease;opacity:0;}</style><div class="css-pyz3l8 e1l8l1ek0"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><style data-emotion="css 1azakc">.css-1azakc{text-align:center;}</style><header class="css-1azakc ebd5ed87"><style data-emotion="css 1j1kikd">.css-1j1kikd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;max-width:900px;padding:2rem;margin-left:auto;margin-right:auto;}@media screen and (max-width: 1024px){.css-1j1kikd{padding:1.5rem 1rem;}}</style><div class="css-1j1kikd ebd5ed86"><style data-emotion="css 1cdt2kf">.css-1cdt2kf{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;width:100%;padding:0 1.5rem;}.css-1cdt2kf>h1{text-align:left;}</style><div class="css-1cdt2kf ebd5ed81"><style data-emotion="css 1gw8sdl">.css-1gw8sdl{color:inherit;font-size:2.5rem;line-height:1.5;font-weight:800;}white-space:nowrap;strong,bold{font-weight:800;}</style><h1 size="40" class="css-1gw8sdl eye3s1s1">[코틀린 고급] 제네릭</h1><style data-emotion="css 1ixtmro">.css-1ixtmro{margin-left:calc(1.5rem - 1px);margin-top:calc(1.5rem - 1px);width:1px;height:1px;min-width:1px;min-height:1px;}</style><span x="1" y="1" class="css-1ixtmro ez28pf0"></span><style data-emotion="css lc9od6">.css-lc9od6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;min-width:1px;max-width:100%;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;box-sizing:border-box;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}.css-lc9od6>*:not(:first-of-type){margin-left:calc(0.5 * 1rem);}</style><div wrap="wrap" class="css-lc9od6 e9vu7as0"><style data-emotion="css 9xks5q">.css-9xks5q{display:inline-block;vertical-align:middle;border-radius:16px;font-weight:500;line-height:1;cursor:inherit;font-feature-settings:tnum;font-variant:tabular-nums;text-transform:capitalize;white-space:nowrap;background:#000;color:#ffffff;border:1px solid #000;padding:3px 10px;font-size:1rem;}</style><span type="primary" class="css-9xks5q e1tg7sbi0">#<!-- -->kotlin</span></div><span x="1" y="1" class="css-1ixtmro ez28pf0"></span><style data-emotion="css 715507">.css-715507{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;}@media screen and (max-width: 1024px){.css-715507{-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}}</style><div class="css-715507 ebd5ed85"><style data-emotion="css 1u6n871">.css-1u6n871{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}</style><div class="css-1u6n871 ebd5ed84"><style data-emotion="css zdebxm">.css-zdebxm{color:inherit;font-size:1rem;line-height:1.5;}white-space:nowrap;strong,bold{font-weight:800;}</style><span size="16" class="css-zdebxm eye3s1s1">Written by <a href="/">Sungbin</a></span><style data-emotion="css 69wa56">.css-69wa56{margin-left:calc(1.5rem - 1px);margin-top:calc(0.375rem - 1px);width:1px;height:1px;min-width:1px;min-height:1px;}</style><span x="1" y="0.25" class="css-69wa56 ez28pf0"></span><style data-emotion="css 4f3fw3">.css-4f3fw3{color:inherit;font-size:0.875rem;line-height:1.5;}white-space:nowrap;strong,bold{font-weight:800;}</style><span size="14" class="css-4f3fw3 eye3s1s1">2026년 2월 19일<!-- --> · <!-- -->18<!-- --> min read</span></div><style data-emotion="css 1yvy03y">.css-1yvy03y{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:0.5rem;margin-bottom:1.5rem;}</style><div class="css-1yvy03y ebd5ed83"><style data-emotion="css 18zu07s">.css-18zu07s{position:relative;}.css-18zu07s:hover>div:last-of-type{opacity:1;}</style><div class="css-18zu07s emo2hur2"><style data-emotion="css cssveg">.css-cssveg{position:relative;}</style><div class="css-cssveg emo2hur1"><style data-emotion="css 7a8mbj">.css-7a8mbj{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:30px;height:30px;outline:none;border:none;border-radius:15px;cursor:pointer;padding:0;background:#000;color:#ffffff;}</style><button class="css-7a8mbj ebd5ed82"><svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path></svg></button></div></div><div class="css-18zu07s emo2hur2"><div class="css-cssveg emo2hur1"><button class="css-7a8mbj ebd5ed82"><svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision"><path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"></path></svg></button></div></div></div></div></div><span x="1" y="1" class="css-1ixtmro ez28pf0"></span><style data-emotion="css 1d3w5wq">.css-1d3w5wq{width:100%;}</style><div class="css-1d3w5wq ebd5ed80"><style data-emotion="css a1pnd7">.css-a1pnd7{text-align:left;border-top:1px solid #EAEAEA;border-bottom:1px solid #EAEAEA;padding:1.5rem;box-shadow:0 5px 10px rgba(0, 0, 0, 0.12);border-radius:5px;border:none;}</style><div class="css-a1pnd7 e1xjf9tq6"><style data-emotion="css b54kzr">.css-b54kzr{font-weight:600;font-size:1.25rem;-webkit-hyphens:auto;-moz-hyphens:auto;-ms-hyphens:auto;hyphens:auto;margin-top:0;margin-bottom:0;}</style><h3 class="css-b54kzr e1xjf9tq5"><style data-emotion="css 16yxw0r">.css-16yxw0r{width:100%;margin-bottom:0;margin-top:0;border:unset;background:unset;padding:unset;margin:unset;font:unset;text-align:unset;-webkit-appearance:unset;-moz-appearance:unset;-ms-appearance:unset;appearance:unset;}</style><button class="css-16yxw0r e1xjf9tq3"><style data-emotion="css ml2823">.css-ml2823{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;cursor:pointer;vertical-align:baseline;padding:1.5rem 0;color:#000;}</style><span class="css-ml2823 e1xjf9tq2">코틀린 고급<style data-emotion="css mzobh8">.css-mzobh8{-webkit-transition:-webkit-transform 0.2s ease;transition:transform 0.2s ease;-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg);}</style><span class="css-mzobh8 e1xjf9tq1"><svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision"><path d="M18 15l-6-6-6 6"></path></svg></span></span></button><style data-emotion="css 153tcrd">.css-153tcrd{font-size:0.75rem;font-weight:400;letter-spacing:normal;margin-bottom:0;display:block;color:#666;}</style><span class="css-153tcrd e1xjf9tq4">시리즈의 글 (4개)</span></h3><style data-emotion="css 10lbtih">.css-10lbtih{font-size:1rem;line-height:26px;overflow-y:hidden;will-change:height;-webkit-transition:height 0.2s ease;transition:height 0.2s ease;}.css-10lbtih>div{margin:1rem 0;}</style><div class="css-10lbtih e1xjf9tq0"><div><style data-emotion="css 6z6c3m">.css-6z6c3m{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:relative;min-width:1px;max-width:100%;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;box-sizing:border-box;-webkit-flex:1;-ms-flex:1;flex:1;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}.css-6z6c3m>section,.css-6z6c3m>div,.css-6z6c3m>article,.css-6z6c3m>header,.css-6z6c3m>footer{gap:calc(1 * 1rem);}.css-6z6c3m:last-of-type{margin-bottom:0;}</style><div class="css-6z6c3m e9vu7as0"><style data-emotion="css 1o02nna">.css-1o02nna{padding-left:1.5rem;box-sizing:border-box;line-height:1.6;list-style:decimal;}</style><ol class="css-1o02nna e1k9d3a01"><style data-emotion="css iuahyr">.css-iuahyr{margin-bottom:0.5rem;}.css-iuahyr::marker{font-weight:600;color:#9195F6;}.css-iuahyr::after{content:'- 12분';margin-left:0.2rem;font-size:0.8rem;}.css-iuahyr>span{cursor:pointer;border-bottom:2px solid #9195F6;font-weight:600;-webkit-text-decoration:none;text-decoration:none;color:#000;-webkit-transition:all 0.1s ease-out;transition:all 0.1s ease-out;}.css-iuahyr>span:hover{background:#9195F6;border-top:2px solid #9195F6;color:#ffffff;}</style><li class="css-iuahyr e1k9d3a00"><span>[코틀린 고급] 연산자 오버로딩과 Kotlin DSL</span></li><li class="css-iuahyr e1k9d3a00"><span>[코틀린 고급] 복잡한 함수형 프로그래밍</span></li><style data-emotion="css 1fpikdj">.css-1fpikdj{margin-bottom:0.5rem;}.css-1fpikdj::marker{font-weight:600;color:#9195F6;}.css-1fpikdj::after{content:'- 18분';margin-left:0.2rem;font-size:0.8rem;}.css-1fpikdj>span{cursor:pointer;border-bottom:2px solid #9195F6;font-weight:600;-webkit-text-decoration:none;text-decoration:none;color:#000;-webkit-transition:all 0.1s ease-out;transition:all 0.1s ease-out;}.css-1fpikdj>span:hover{background:#9195F6;border-top:2px solid #9195F6;color:#ffffff;}</style><li class="css-1fpikdj e1k9d3a00"><span>[코틀린 고급] 지연과 위임</span></li><li class="css-1fpikdj e1k9d3a00"><span>[코틀린 고급] 제네릭</span></li></ol></div></div></div></div></div></div></header><div><style data-emotion="css ifrico">.css-ifrico{width:100%;max-width:900px;padding:2rem;margin-left:auto;margin-right:auto;width:calc(100vw - 400px);}@media screen and (max-width: 1024px){.css-ifrico{padding:1rem;}}@media screen and (max-width: 1308px){.css-ifrico{width:calc(100vw - 408px);}}@media screen and (max-width: 1024px){.css-ifrico{width:calc(100vw - 8px);}}.css-ifrico p>img{width:100%;}.css-ifrico p{color:#111;font-weight:400;line-height:1.6;letter-spacing:-0.02rem;}.css-ifrico p,.css-ifrico table,.css-ifrico ul,.css-ifrico blockquote,.css-ifrico ol{font-size:1rem;margin:0 0 2rem;}.css-ifrico center{color:#666;font-size:0.8rem;font-weight:400;line-height:1.5;letter-spacing:-0.02rem;margin:0 0 2rem;}.css-ifrico p+center,.css-ifrico iframe+center{margin-top:-1rem;}.css-ifrico h1,.css-ifrico h2,.css-ifrico h3,.css-ifrico h4,.css-ifrico h5{position:relative;color:#000;line-height:1.2;scroll-margin-top:60px;letter-spacing:-0.02rem;font-weight:600;background:none;}.css-ifrico h1>a,.css-ifrico h2>a,.css-ifrico h3>a,.css-ifrico h4>a,.css-ifrico h5>a{color:#000;opacity:0;border:none;position:absolute;top:50%;left:0;-webkit-transform:translate(-100%, -50%);-moz-transform:translate(-100%, -50%);-ms-transform:translate(-100%, -50%);transform:translate(-100%, -50%);padding-right:4px;}.css-ifrico h1:hover>a,.css-ifrico h2:hover>a,.css-ifrico h3:hover>a,.css-ifrico h4:hover>a,.css-ifrico h5:hover>a{color:#000;background:none;border:none;opacity:1;}.css-ifrico h2:not(:first-of-type),.css-ifrico h3:not(:first-of-type),.css-ifrico h4:not(:first-of-type){margin-top:3rem;}.css-ifrico h1,.css-ifrico h2,.css-ifrico h3,.css-ifrico h4,.css-ifrico h5{margin:0 0 1.25rem;}.css-ifrico h1,.css-ifrico h2{font-size:1.8rem;-webkit-filter:brightness(1);filter:brightness(1);}.css-ifrico h3{font-size:1.4rem;-webkit-filter:brightness(1.3);filter:brightness(1.3);}.css-ifrico h4{-webkit-filter:brightness(1.5);filter:brightness(1.5);font-size:1.1rem;padding-bottom:0.25rem;text-transform:uppercase;}.css-ifrico ul,.css-ifrico ol{padding-left:1.5rem;box-sizing:border-box;line-height:1.6;}.css-ifrico ul ul,.css-ifrico ol ul{margin-top:8px;}.css-ifrico ul ul,.css-ifrico ol ul,.css-ifrico ul ol,.css-ifrico ol ol{margin-bottom:0;}.css-ifrico ul{list-style:disc;}.css-ifrico ol{list-style:decimal;}.css-ifrico ul li{margin-bottom:0.5rem;}.css-ifrico ul li::marker{font-weight:600;color:#9195F6;}.css-ifrico ol li{margin-bottom:0.5rem;}.css-ifrico ol li::marker{font-weight:600;color:#9195F6;}.css-ifrico li>a{white-space:inherit;word-wrap:break-word;}.css-ifrico li{color:#000;}.css-ifrico li code{font-weight:600;color:#9195F6;white-space:inherit;}.css-ifrico li code * span{white-space:inherit;}.css-ifrico li code * span:not([class='grvsc-source']){padding-left:0!important;}.css-ifrico iframe{margin-bottom:2rem;}.css-ifrico div[class*='markdown-wrapper']{font-size:0.9rem;-webkit-text-size-adjust:none;-moz-text-size-adjust:none;-ms-text-size-adjust:none;text-size-adjust:none;margin:1rem -1rem;overflow-x:auto;overflow-y:hidden;box-sizing:border-box;scrollbar-width:8px;scrollbar-color:var(--scrollbar-thumb) var(--scrollbar-background);}.css-ifrico div[class*='markdown-wrapper']::-webkit-scrollbar{background:var(--scrollbar-background);height:8px;width:8px;}.css-ifrico div[class*='markdown-wrapper']::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:0;}@media screen and (min-width: 1350px){.css-ifrico div[class*='markdown-wrapper']{margin-left:-3.5rem;margin-right:-3.5rem;margin-bottom:2rem;}}@media screen and (max-width: 1024px){.css-ifrico div[class*='markdown-wrapper']{padding-left:1rem;}}.css-ifrico pre{border-radius:0;float:left;margin-bottom:0;margin-top:0;min-width:calc(100% + 1rem);padding:1rem 1rem 1rem 0;-webkit-font-smoothing:subpixel-antialiased;overflow:initial;white-space:pre;font-family:var(--code-font-family);word-wrap:normal;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;tab-size:2;word-break:normal;word-spacing:normal;}.css-ifrico pre>code{font-weight:600;color:#9195F6;white-space:inherit;}.css-ifrico pre>code * span{white-space:inherit;}.css-ifrico pre>code * span:not([class='grvsc-source']){padding-left:0!important;}.css-ifrico .line-numbers-rows{padding-left:1em;padding-top:1em;}.css-ifrico p>code{font-weight:600;color:#9195F6;white-space:inherit;}.css-ifrico p>code * span{white-space:inherit;}.css-ifrico p>code * span:not([class='grvsc-source']){padding-left:0!important;}.css-ifrico img[class='gatsby-resp-image-image']{box-shadow:none!important;}.css-ifrico img[class='gatsby-resp-image-image'][alt]:after{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;top:0;left:0;width:100%;height:100%;background:#ffffff;font-weight:200;content:'이미지를 표시할 수 없어요. :(';}.css-ifrico blockquote{background:#EAEAEA;margin:0 -1rem;margin-bottom:2rem;padding:1rem 1rem;border-left:6px solid #9195F6;}.css-ifrico blockquote>p{margin-bottom:0;}@media screen and (min-width: 1350px){.css-ifrico blockquote{margin-left:-3.5rem;margin-right:-3.5rem;}}@media screen and (max-width: 1024px){.css-ifrico blockquote{padding-left:1rem;}}</style><section class="css-ifrico e17f2jor0"><p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABZElEQVQoz41SMUtCURh9P6I9GoTGfkCbtISDEIig7wml2FIimaE0pLVUBkY22NSSSqmEkZHobKavMM0wyBoawppe8YS83/fFe5qKk4cznHu55zuXey5HKoAIkAihy9HADWjsCwT8R3cLEVQMmxlRSISDM3pLJihtwMwSyV+qATq23oihpWJuI0xck7CZa7nHwMdR9ZgRVSrl2lOt/FAmIkmS6s/19FU6m8sOJeMPkTP++OqebW9MsZeMMh4Yb+FNgil5ngzsBZwrTp1eZxbMlnmLa80V3A/2k3+RPnyH74sLofVCVUkCxsBoMlrtVv2c3r/l185oeYG32W2aSY3H63E4Hc3PpmJG9d55b2p6uza+S/wy3OWVdygUbhuNRjQWDR+Fi8ViJBpJXaRip7FSqSSKoizLPTOc5CXDPa3e4M4lxRPU+lb7Axy9qoHSkACgUw9jDBEZYx09WBjXP60SVY74Sf4AtOgKavup5M4AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="banner"
        title="banner"
        src="/static/619e6175d83cd70c239721219e3cbc91/2bef9/banner.png"
        srcset="/static/619e6175d83cd70c239721219e3cbc91/6f3f2/banner.png 256w,
/static/619e6175d83cd70c239721219e3cbc91/01e7c/banner.png 512w,
/static/619e6175d83cd70c239721219e3cbc91/2bef9/banner.png 1024w,
/static/619e6175d83cd70c239721219e3cbc91/c1b63/banner.png 1200w"
        sizes="(max-width: 1024px) 100vw, 1024px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<blockquote>
<p>해당 포스팅은 인프런의 <a href="https://inf.run/GZfvz">코틀린 고급편</a> 강의를 참조하여 작성한 글입니다.</p>
</blockquote>
<h2>제네릭과 타입 파라미터</h2>
<p>이번 포스팅에서는 제네릭에 대하여 다뤄보도록 하겠다. 먼저 예시를 들면서 설명을 해보도록 하겠다. 아래와 같이 동물들을 넣을 수 있는 <code>Cage</code> 클래스가 있다고 하자.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">package</span> me<span class="token punctuation">.</span>sungbin<span class="token punctuation">.</span>generic

<span class="token keyword">class</span> Cage <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">val</span> animals<span class="token operator">:</span> MutableList<span class="token operator">&lt;</span>Animal<span class="token operator">></span> <span class="token operator">=</span> <span class="token function">mutableListOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Animal <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fun</span> <span class="token function">put</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> Animal<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fun</span> <span class="token function">moveFrom</span><span class="token punctuation">(</span>cage<span class="token operator">:</span> Cage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>cage<span class="token punctuation">.</span>animals<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>당연히 동물도 같이 넣을 수 있어야 하니 <code>Animal</code>관련 클래스들도 만들어보겠다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">package</span> me<span class="token punctuation">.</span>sungbin<span class="token punctuation">.</span>generic

<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token function">Animal</span><span class="token punctuation">(</span>
    <span class="token keyword">val</span> name<span class="token operator">:</span> String<span class="token punctuation">,</span>
<span class="token punctuation">)</span>

<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token function">Fish</span><span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Animal</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token function">Goldfish</span><span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Fish</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token function">Carp</span><span class="token punctuation">(</span>name<span class="token operator">:</span> String<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">Fish</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>위의 클래스들을 도식화 하면 아마 아래와 같은 상속 구조가 나올 것이다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 55.859375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABiklEQVQoz4WTW2sTURCA87vF5+JTwVTQB0GIFV/0qaJQqZhqIxZs0EBLa21wm4S4u+6evXUvJ2c+6Sa7m6TFzmGYYRi+uXFaYgrQEcgV6BiZZfxPxGhAg2hEZougLIzQwvvGbPCAyecN0v4GTN+TZhrb/oPjOKW6rotlWSRJApevUEebhP1NGO3UoGvoHKgGmNNHuEdb5MdtcPbJC4NSPkEQlBqGQQnNsgzcj/z98Qx13AG3h6wDZX0k7pIc37ZI1BQo5tOudLhwRMxKpdvVIGdPiA7vE3+9B8PtGijLwCpQ+zRJVd+1n54RW3vkky5kw2aHVMDmSBVvyW+ud/185eOpmJPTCy5+j3H9kCAMmpy7gE31uVxaI6IgQvkegVJ4rsd4NKmXXwOXAbfBvMSme/KWve9v6J3vcqUjvNTm0/k7Pgx2OPi1S5j6ZW5r5cKyDjalHashnd5DOt02z7+0caIJlveTF4dbvOw95nX/KW48vQm88SsWdCOGwuRoKUpb7Uubgpno0s5j8A/Pek0y44b5JgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="image01"
        title="image01"
        src="/static/8a3fe3228e9f2d817908c7f90283974d/2bef9/01.png"
        srcset="/static/8a3fe3228e9f2d817908c7f90283974d/6f3f2/01.png 256w,
/static/8a3fe3228e9f2d817908c7f90283974d/01e7c/01.png 512w,
/static/8a3fe3228e9f2d817908c7f90283974d/2bef9/01.png 1024w,
/static/8a3fe3228e9f2d817908c7f90283974d/2e367/01.png 1066w"
        sizes="(max-width: 1024px) 100vw, 1024px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>이제 Cage를 인스턴스화하여 잉어를 넣었다가 빼보자. 그러면 아마 아래와 같은 main함수를 작성할 수 있을 것이다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">package</span> me<span class="token punctuation">.</span>sungbin<span class="token punctuation">.</span>generic

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> cage <span class="token operator">=</span> <span class="token function">Cage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cage<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">Carp</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"잉어"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> carp<span class="token operator">:</span> Carp <span class="token operator">=</span> cage<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Error: Type mismatch</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>위와 같이 코드를 작성하게 되면 컴파일 오류가 발생한다. 왜냐하면 <code>put</code> 함수에서는 인자가 Animal 타입이면 다 들어갈 수 있으니 하위 자식 클래스인 Carp는 들어갈 수 있다. 하지만 꺼낼 때 <code>getFirst</code>함수는 반환 타입이 Animal이다. 하지만 받는 변수는 하위 타입이라 Type mismatch가 발생하는 것이다.</p>
<p>이런 에러를 해결하기 위해서는 어떻게 해야할까? 제일 간단한 방법은 아래와 같이 타입 캐스팅을 이용하는 방법일 것이다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">package</span> me<span class="token punctuation">.</span>sungbin<span class="token punctuation">.</span>generic

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> cage <span class="token operator">=</span> <span class="token function">Cage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cage<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">Carp</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"잉어"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> carp<span class="token operator">:</span> Carp <span class="token operator">=</span> cage<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Carp
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>이렇게 하면 바로 잉어타입을 가져올 수 있다. 하지만 해당 방법은 좋지 못한 방식이다. 왜냐하면 지금은 코드가 몇 줄이 안되서 괜찮지만 누군가가 Carp대신에 다른 클래스를 넣어버리면 바로 깨지는 코드가 발생하는 것이기 때문이다. 그러면 어떻게 type safe하게 잉어만 가져올 수 있을까? 또 다른 방식으로는 타입 캐스팅과 엘비스 연산자를 이용하는 방식이 존재한다. 바로 아래와 같이 말이다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">package</span> me<span class="token punctuation">.</span>sungbin<span class="token punctuation">.</span>generic

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> cage <span class="token operator">=</span> <span class="token function">Cage</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cage<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">Carp</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"잉어"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> carp<span class="token operator">:</span> Carp <span class="token operator">=</span> cage<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span><span class="token operator">?</span> Carp <span class="token operator">?:</span> <span class="token keyword">throw</span> <span class="token function">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>하지만 이 방법은 역시 <code>as</code>를 사용했을 때처럼 실수의 여지가 여전히 존재하며 실수로 다른 타입을 넣었을 때 런타임 예외가 발생하게 된다. 그렇다면, 동일한 Cage 클래스이지만 잉어만 넣을 수 있는 Cage, 금붕어만 넣을 수 있는 Cage를 구분하는 방법은 어떨까? 이러한 아이디어로 착안된 것이 바로 <strong>제네릭</strong>이다. 아래와 같이 Cage클래스를 다시 만들어보자.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">package</span> me<span class="token punctuation">.</span>sungbin<span class="token punctuation">.</span>generic

<span class="token keyword">class</span> Cage2<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">val</span> animals<span class="token operator">:</span> MutableList<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token operator">=</span> <span class="token function">mutableListOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> T <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fun</span> <span class="token function">put</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fun</span> <span class="token function">moveFrom</span><span class="token punctuation">(</span>cage<span class="token operator">:</span> Cage2<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>cage<span class="token punctuation">.</span>animals<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>이때 특정 타입만 Cage가 받을 수 있도록 처리하기 위해 타입 파라미터를 사용할 것이다. 타입 파라미터를 클래스에 적용하는 방법은 간단하다. 클래스 뒤에 <code>&#x3C; ></code> 를 이용해 대문자를 적어주면 된다. 이렇게 Cage2처럼 타입 파라미터가 적용된 클래스를 제네릭 클래스라고 부르고 <code>&#x3C; ></code>안에 들어간 <code>T</code>를 타입 파라미터라고 부른다. 그러면 제네릭 클래스를 통해 잉어를 넣었다가 빼는 코드를 다시 작성해보자.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">package</span> me<span class="token punctuation">.</span>sungbin<span class="token punctuation">.</span>generic

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> cage2 <span class="token operator">=</span> Cage2<span class="token operator">&lt;</span>Carp<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cage2<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">Carp</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"잉어2"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> carp2 <span class="token operator">=</span> cage2<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>제네릭을 활용한 덕분에 타입 안전하게 잉어를 가져올 수 있게 되었다. 실제로 이런 제네릭 클래스는 <code>List</code>나 <code>Collection</code>같은 자바 표준 라이브러리, 코틀린 표준 라이브러리에서 많이 사용된다.</p>
<p>그러면 다음과 같은 요구사항이 추가로 왔다고 해보자.</p>
<blockquote>
<p>금붕어 한마리를 Cage에 넣고 물고기 Cage에 <code>moveFrom</code> 함수를 통하여 금붕어를 옮겨보자.</p>
</blockquote>
<p>그러면 우리는 아래와 같이 작성할 수 있을 것이다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">package</span> me<span class="token punctuation">.</span>sungbin<span class="token punctuation">.</span>generic

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> cage2 <span class="token operator">=</span> Cage2<span class="token operator">&lt;</span>Carp<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cage2<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">Carp</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"잉어2"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> carp2 <span class="token operator">=</span> cage2<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">val</span> goldFishCage <span class="token operator">=</span> Cage2<span class="token operator">&lt;</span>Goldfish<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    goldFishCage<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">Goldfish</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"금붕어"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">val</span> fishCage <span class="token operator">=</span> Cage2<span class="token operator">&lt;</span>Fish<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    fishCage<span class="token punctuation">.</span><span class="token function">moveFrom</span><span class="token punctuation">(</span>goldFishCage<span class="token punctuation">)</span> <span class="token comment">// Error: Type misMatch</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>그런데 이상하게 금붕어는 물고기 Cage에 들어갈 수 있을것 같음에도 Type MisMatch가 발생한다. 왜 그럴지 한번 살펴보자.</p>
<h2>배열과 리스트, 제네릭과 무공변</h2>
<p>이전의 문제를 정리해보면 우리는 금붕어 Cage에서 금붕어를 꺼내서 물고기 Cage에 옮길 수 없었다. 그런데 곰곰이 생각을 해보면 그냥 금붕어 자체를 물고기 Cage에 넣는 것은 큰 문제가 없다. 바로 아래처럼 말이다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">val</span> cage <span class="token operator">=</span> Cage2<span class="token operator">&lt;</span>Fish<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
cage<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">GoldFish</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"금붕어"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div></div>
<p>즉, 물고기 Cage에 금붕어가 들어가는 것은 큰 문제가 아니다. 그러면 왜 이런 문제가 발생하는 것일까? 문제의 원인을 파악하기 위해서 상속관계의 의미를 파악해야 한다. 예시를 한번 들어보자. 아래와 같이 상속관계가 존재하는 <code>Number</code> 클래스와 <code>Int</code> 클래스가 있다고 해보자. <code>Number</code>는 <code>Int</code>의 상위 타입이다. 이럴 때 아래와 같은 코드의 작성이 가능하다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">doSomething</span><span class="token punctuation">(</span>num<span class="token operator">:</span> Number<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// TODO()</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> a<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">3</span>
<span class="token function">doSomething</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p><code>Number</code>타입을 받는 파라미터에 하위 타입인 <code>Int</code>가 들어가도 무방하다. 또한 아래와 같은 경우도 충분히 가능하다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">val</span> integer<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">5</span>
<span class="token keyword">val</span> number<span class="token operator">:</span> Number <span class="token operator">=</span> integer</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div></div>
<p>너무 당연한 이야기다. 그러면 다시 문제의 코드를 한번 살펴보도록 하자.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">package</span> me<span class="token punctuation">.</span>sungbin<span class="token punctuation">.</span>generic

<span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> cage2 <span class="token operator">=</span> Cage2<span class="token operator">&lt;</span>Carp<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cage2<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">Carp</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"잉어2"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> carp2 <span class="token operator">=</span> cage2<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">val</span> goldFishCage <span class="token operator">=</span> Cage2<span class="token operator">&lt;</span>Goldfish<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    goldFishCage<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">Goldfish</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"금붕어"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">val</span> fishCage <span class="token operator">=</span> Cage2<span class="token operator">&lt;</span>Fish<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    fishCage<span class="token punctuation">.</span><span class="token function">moveFrom</span><span class="token punctuation">(</span>goldFishCage<span class="token punctuation">)</span> <span class="token comment">// Error: Type misMatch</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>cage의 타입 파라미터는 <code>Fish</code>이므로 <code>moveFrom</code> 함수에서 파라미터 타입은 <code>Cage2&#x3C;Fish></code>가 된다. 그리고 이 함수에 넣으려는 goldFishCage는 <code>Cage2&#x3C;GoldFish></code> 타입을 가지고 있고 Type MisMatch가 발생하는 것이다. 따라서 <code>Fish</code>와 <code>GoldFish</code>는 상속 관계가 확실하지만 <code>Cage2&#x3C;Fish></code>와 <code>Cage2&#x3C;GoldFish></code>는 아무런 관계가 아닌 것을 볼 수 있다. 즉, 상속관계가 아닌 아무런 관계가 아니기 때문에 Type MisMatch가 발생한 것이다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 32.03125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABAElEQVQY04WRzUrEMBSF+9DuXPgAIrpSFN3oYh7ARxhFFBwUEWHAhWNbpimZYNu06e8nt2M7MggeCJeQm++cm3ht21LkFlcD0ZTqYYfkbpfuaQ+sT6+u+ynraq3F933CMEQpRVmW47lXFAWLxQef/pL2a075PkG/XEJwTVcaBNE2DU3TIOYiAWitSZKENE2p63oDZEsSQsXJuBeQcw4xrqqKvzQkF3nStDIrnHW8xa+c359ycXPG5PkKnev1BTYXpN8YQxRF/bhSJaUY90BxD8IAowyz5YyD232OpoecPB4T52pMMKT4DYzjuIdmWTaO7fGPuq0PkSpvOZjIGtIJ8Btk2MunFikAKgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="image02"
        title="image02"
        src="/static/6f6e21ae2b4c1e73bcc0659234445092/2bef9/02.png"
        srcset="/static/6f6e21ae2b4c1e73bcc0659234445092/6f3f2/02.png 256w,
/static/6f6e21ae2b4c1e73bcc0659234445092/01e7c/02.png 512w,
/static/6f6e21ae2b4c1e73bcc0659234445092/2bef9/02.png 1024w,
/static/6f6e21ae2b4c1e73bcc0659234445092/302a4/02.png 1080w"
        sizes="(max-width: 1024px) 100vw, 1024px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>이것을 어려운 용어로 <strong>무공변</strong>하다라고 의미한다. 그러면 왜 <code>Fish</code>와 <code>GoldFish</code>의 상속관계가 제네릭에서는 왜 유지가 되지 않을까? 이것을 이해하기 위해서는 잠시 자바코드를 살펴볼 필요성이 있다. 잠시 자바의 배열과 리스트에 대해 살펴보고 이야기를 진행해보도록 하겠다.</p>
<p>자바에서 배열은 제네릭과 다르다. 자바에서 A객체가 B객체의 하위타입일 때 A 배열이 B 배열의 하위타입으로 간주를 시킨다. 즉, 아래와 같은 코드가 가능하게 되는 것이다.</p>
<div class="gatsby-highlight" data-language="java"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> strs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">"A"</span><span class="token punctuation">,</span><span class="token string">"B"</span><span class="token punctuation">,</span><span class="token string">"C"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// Object가 String의 상위 타입이므로 Object[]가 String[]의 상위 타입으로 간주된다.</span>
<span class="token comment">// 따라서 objs에 strs를 대입할 수 있다.</span>
<span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> objs <span class="token operator">=</span> strs<span class="token punctuation">;</span>
objs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// java.lang.ArrayStoreException: java.lang.Integer</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>이는 어려운 말로 자바 배열은 <strong>공변</strong>하다라고 표현한다. 즉, <code>Object[]</code>타입은 사실 <code>String[]</code>인데 숫자를 넣을 수 있는 말도 안되는 상황이 벌어지는 것이다. 이러한 코드는 컴파일 타임에서는 괜찮지만 런타임때 예외를 발생시킬 수 있으므로 굉장히 위험하다.</p>
<p>반면 <code>List</code>는 다르다. <code>List</code>는 제네릭을 사용하고 있으므로 불공변하기 때문에 오류를 즉각적으로 확인할 수 있다. 만약 제네릭도 배열과 같은 원리로 동작했다면, List 역시 배열과 같은 결함을 가지게 되고 타입-안전하지 않은 코딩을 해야 했을 것이다. 제네릭은 이런 결함 자체를 막기 위해 무공변하도록 만들어졌다.</p>
<blockquote>
<p>이러한 차이가 바로, 배열보다 리스트를 사용하라는 격언의 배경이기도 하다. (Effective Java #3 Item28)</p>
</blockquote>
<p>그러면 왜 금붕어 Cage에서 물고기 Cage로 옮기지 못하는 이유는 납득이 되었다. 하지만 문제는 해결되지 못했다. 사실 코틀린 제네릭이 공변한다라고 가정해도 전혀 문제가 될 것은 없기 때문이다. 어떻게 문제를 해결할 수 있을까? 바로 <code>Cage2&#x3C;Fish></code>와 <code>Cage2&#x3C;GoldFish></code>가 공변하도록 만들어주는 것이다.</p>
<h2>공변과 반공변</h2>
<p>그러면 이제 Cage2 클래스에 <code>moveFrom</code> 함수를 공변하도록 만들어보자. 이 함수를 공변하게 만든다면 해당 함수를 호출할 때 <code>Cage2&#x3C;Fish></code>는 <code>Cage2&#x3C;GoldFish></code>의 상위타입이 되며 우리의 문제를 해결할 수 있게 된다.</p>
<p>방법은 매우 간단하다. 바로 타입 파라미터 앞에 <code>out</code>이라는 키워드를 아래와 같이 붙여주면 된다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">moveFrom</span><span class="token punctuation">(</span>otherCage<span class="token operator">:</span> Cage2<span class="token operator">&lt;</span><span class="token keyword">out</span> T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>otherCage<span class="token punctuation">.</span>animals<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div></div>
<p>이때 <code>out</code>을 <strong>변성 어노테이션</strong>이라고 부른다. 이렇게 되면 이 함수를 호출할 때 <code>Cage2</code>가 공변하게 되고 우리의 문제를 바로 해결이 가능하다. 이제 <code>out</code>의 의미에 대해 조금 더 자세히 살펴보도록 하겠다. 이렇게 <code>out</code> 변성 어노테이션이 붙은 파라미터는 오직 생산자의 역할만 할 수 있다. 생산자의 역할만 할 수 있다는 것은 데이터를 꺼내기만 가능하다는 의미이다. 한번 코드를 통해서 알아보도록 하겠다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">moveFrom</span><span class="token punctuation">(</span>otherCage<span class="token operator">:</span> Cage2<span class="token operator">&lt;</span><span class="token keyword">out</span> T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>otherCage<span class="token punctuation">.</span>animals<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div></div>
<p>위의 함수의 타입 파라미터에 변성 어노테이션을 붙였기에 <code>otherCage</code>입장에서는 데이터를 꺼내기만 할 수 있다. 즉, <code>Cage2</code>클래스의 함수중에서 데이터를 꺼내는 함수인 <code>getFirst()</code>와 getter만 해당 함수에서 호출할 수 있다라는 의미이다. 만약 아래와 같이 데이터를 소비하려고 한다면 즉, 소비자 역할을 시키려고 한다면 에러가 발생한다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">moveFrom</span><span class="token punctuation">(</span>otherCage<span class="token operator">:</span> Cage2<span class="token operator">&lt;</span><span class="token keyword">out</span> T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    otherCage<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 에러</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>otherCage<span class="token punctuation">.</span>animals<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>그러면 왜 <code>out</code>을 붙이면 생산자 역할만 할 수 있을까? 그 이유는 바로 타입 안정성때문이다. 만약 공변하는 <code>Cage2</code> 클래스에 animal을 집어넣을 수 있다라고 해보자. 즉, otherCage가 데이터를 가져가는 소비자 역할도 하게 되는 것이다. 즉 아래의 코드가 정상 동작한다라고 해보자.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">moveFrom</span><span class="token punctuation">(</span>otherCage<span class="token operator">:</span> Cage2<span class="token operator">&lt;</span><span class="token keyword">out</span> T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    otherCage<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 정상 동작 가정</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>otherCage<span class="token punctuation">.</span>animals<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>그리고 아래의 코드를 실행한다라고 해보자.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">val</span> goldFishCage <span class="token operator">=</span> Cage2<span class="token operator">&lt;</span>GoldFish<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
goldFishCage<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">GoldFish</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"금붕어"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">val</span> cage2 <span class="token operator">=</span> Cage2<span class="token operator">&lt;</span>Fish<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
cage2<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">Carp</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"잉어"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
cage2<span class="token punctuation">.</span><span class="token function">moveFrom</span><span class="token punctuation">(</span>goldFishCage<span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>이렇게 되면 otherCage가 <code>Cage2&#x3C;GoldFish></code>인 상황에서 otherCage에 <code>Carp</code>를 넣으려고 하게 된다. 하지만 otherCage에는 GoldFish만 들어갈 수 있을 뿐 Carp를 넣을 수 없다. 따라서 <code>otherCage.put(getFirst())</code>를 허용해준다면 타입 안정성이 깨지고 런타임 에러가 발생하게 된다.</p>
<p>이번에는 반대의 경우를 한번 생각해보자. 주어진 Cage에서 동물을 현재 Cage로 옮겨오는 <code>moveFrom</code> 함수 대신에 현재 Cage에서 동물을 주어진 Cage로 보내는 <code>moveTo</code>함수가 존재한다고 해보자. 변성을 고려하지 않는다면 아래와 같이 작성이 가능할 것이다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">moveTo</span><span class="token punctuation">(</span>otherCage<span class="token operator">:</span> Cage2<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    otherCage<span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div></div>
<p>그러면 이 코드 역시 아래와 같은 코드가 작성이 된다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">val</span> myCage <span class="token operator">=</span> Cage2<span class="token operator">&lt;</span>Fish<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">val</span> goldFishCage <span class="token operator">=</span> Cage2<span class="token operator">&lt;</span>GoldFish<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
goldFishCage<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token function">GoldFish</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"금붕어"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
goldFishCage<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>myCage<span class="token punctuation">)</span> <span class="token comment">// Type Mismatch</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>이 코드 역시 실행되더라도 큰 문제는 없어 보인다. 금붕어 Cage에서 금붕어를 꺼내 물고기 Cage로 옮겨주고 있기 때문이다. 하지만 현재는 무공변상태이므로 할 수가 없다. 이번에는 <code>out</code>이라는 변성 어노테이션을 붙여주는 것으로 할 수가 없다. <code>Cage2&#x3C;GoldFish></code>자리에 <code>Cage2&#x3C;Fish></code>가 들어가야 하기 때문이다. 즉, Fish가 GoldFish의 상위 타입일 때 반대가 되어야 한다. 이를 어려운 말로 <strong>반공변</strong>하다라고 표현한다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1014px; "
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 30.078125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAABHElEQVQY02WRbUsCQRSF918HBlFUHyLqx5RZxKqQomJfo7C0drd9EUnN3NnZt9knnGwNu8PA4fBc7rkzBn+qKBSgoFBaF9orNvfHKc92rRhDKYWMBDIFnCqid0DUPwT39hfT4Krazw3Oro44vz7m5uFCe0II4jguhxppmuLYNq43huUL4bDGYlAF8YYqIM9z8jzTzc7cpvFo0nwyGU2HZGmOZVkEQVAONbZjL2TGdBlpnWUpUkqkjLXWnhAUMl7T6v/KOqHjMJ3MqA9qnFzucVrdpzUy19S66WvER3MHr76La1aY31VI/C7v/oRx4G8Srt4wFCGJTLBnr/StDvdWF/fTLj9Ko8mc1GuR+B1ir0Pmt8lDn1BIZBSVCb8BjTHFUGtHwd8AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="image03"
        title="image03"
        src="/static/c8276bb110e7d5e62f6381af8e4b1bfa/d7ab4/03.png"
        srcset="/static/c8276bb110e7d5e62f6381af8e4b1bfa/6f3f2/03.png 256w,
/static/c8276bb110e7d5e62f6381af8e4b1bfa/01e7c/03.png 512w,
/static/c8276bb110e7d5e62f6381af8e4b1bfa/d7ab4/03.png 1014w"
        sizes="(max-width: 1014px) 100vw, 1014px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
    </span></p>
<p>이때는 <code>out</code> 대신에 <code>in</code>을 사용할 수 있다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">moveTo</span><span class="token punctuation">(</span>otherCage<span class="token operator">:</span> Cage2<span class="token operator">&lt;</span><span class="token keyword">in</span> T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    otherCage<span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div></div>
<p>이렇게 <code>in</code> 변성 어노테이션이 붙은 매개변수는 <code>out</code>과 다르게 소비자 역할만 할 수 있다. 즉, <code>put</code>이나 <code>moveFrom</code>같은 것만 호출할 수 있다라는 의미이다.</p>
<h2>선언 지점 변성 / 사용 지점 변성</h2>
<p>우리는 이전까지 특정 함수를 사용할 때에만 제네릭 클래스에 변성을 부여하였다. 우리가 사용한 방식을 적절히 이용만 한다면 함수를 사용할 때 말고 변성을 적절히 이용할 수 있다. 아래의 코드를 살펴보자.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">val</span> int<span class="token operator">:</span> Int <span class="token operator">=</span> <span class="token number">1_000</span>
<span class="token keyword">val</span> num<span class="token operator">:</span> Number <span class="token operator">=</span> int</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div></div>
<p><code>Int</code>타입의 변수 int를 <code>Number</code> 타입의 변수 <code>num</code>에 넣었다. <code>Int</code>는 <code>Number</code>의 하위타입이기 때문에 가능한 문법이다. 비슷하게 <code>out</code> 변성 어노테이션을 이용한다면 제네릭 클래스간에 상속관계를 만들 수 있다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">val</span> goldFishCage<span class="token operator">:</span> Cage2<span class="token operator">&lt;</span>GoldFish<span class="token operator">></span> <span class="token operator">=</span> <span class="token function">Cage2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">val</span> fishCage<span class="token operator">:</span> Cage2<span class="token operator">&lt;</span><span class="token keyword">out</span> Fish<span class="token operator">></span> <span class="token operator">=</span> goldFishCage</code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div></div>
<p><code>out</code> 변성 어노테이션을 이용하여 <code>Cage2&#x3C;GoldFish></code>를 <code>Cage2&#x3C;out Fish></code>의 하위 타입으로 만든 것이다. 만약 자바를 배우신 독자라면 위의 구조와 비슷한 문법을 보셨을 것이다. 바로 아래와 같이 말이다.</p>
<div class="gatsby-highlight" data-language="java"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> ints <span class="token operator">=</span> <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Number</span><span class="token punctuation">></span></span> nums <span class="token operator">=</span> ints<span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div></div>
<p>위의 코드에서 <code>out</code> 대신에 <code>? extends Number</code>가 들어갔다. 해당 의미는 리스트에 <code>Number</code> 혹은 해당 하위 타입이 들어갈 수 있다라는 의미이다. 이와 비슷하게 자바에서는 <code>? super T</code>라는 문법도 존재하는데 코틀린에서는 <code>in T</code>와 같은 역할을 한다. 이렇게 특정 지점에 변성을 주는 방식은 유용하지만 조금 복잡하게 생긴 타입이 계속해서 퍼진다는 것은 다소 번거롭게 느껴진다. 그러면 이를 해결할 방법은 없을까? 즉, 복잡한 타입을 계속해서 퍼지게 하는 대신에 제네릭 클래스 자체를 공변시키거나 반공변시킬 수는 없을까?</p>
<p>자바에서는 불가능하지만 코틀린에서는 가능하다. 만약 <code>Cage3</code> 클래스가 있고 거기에 생산자 역할 함수만 있다고 했을 때 아래와 같이 가능하다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">package</span> me<span class="token punctuation">.</span>sungbin<span class="token punctuation">.</span>generic

<span class="token keyword">class</span> Cage3<span class="token operator">&lt;</span><span class="token keyword">out</span> T<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">val</span> animals<span class="token operator">:</span> MutableList<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token operator">=</span> <span class="token function">mutableListOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> T <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fun</span> <span class="token function">getAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> List<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>animals
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>위와 같이 <code>out</code> 변성 어노테이션을 클래스 타입 파라미터에 붙이면 해당 클래스는 그 타입 파라미터에 대해 데이터 생산만이 가능하고 클래스 전체에 공변을 적용한다. 물론 반대로 반공변도 아래와 같이 가능하다. 반대인 만큼 생산대신에 소비하는 함수만 있어야 한다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">package</span> me<span class="token punctuation">.</span>sungbin<span class="token punctuation">.</span>generic

<span class="token keyword">class</span> Cage4<span class="token operator">&lt;</span><span class="token keyword">in</span> T<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">val</span> animals<span class="token operator">:</span> MutableList<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token operator">=</span> <span class="token function">mutableListOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">put</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fun</span> <span class="token function">putAll</span><span class="token punctuation">(</span>animals<span class="token operator">:</span> List<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>animals<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>이렇게 클래스 타입 파라미터에 변성 어노테이션을 사용해 클래스간의 상속관계를 구성하는 것을 <strong>선언 지점 변성</strong>이라고 부르고 특정 지점에 한정해 변성을 주는 것을 <strong>사용 지점 변성</strong>이라고 부른다.</p>
<blockquote>
<p>선언 지점 변성은 자바에서는 존재하지 않고 코틀린에서만 존재한다.</p>
</blockquote>
<p>그러면 코틀린 표준 라이브러리에서 선언 지점 변성을 어떻게 사용하고 있을까? 대표적으로 <code>Comparable</code> 인터페이스가 존재한다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">public</span> <span class="token keyword">interface</span> Comparable<span class="token operator">&lt;</span><span class="token keyword">in</span> T<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">operator</span> <span class="token keyword">fun</span> <span class="token function">compareTo</span><span class="token punctuation">(</span>other<span class="token operator">:</span> T<span class="token punctuation">)</span><span class="token operator">:</span> Int
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div></div>
<p>Comparable은 데이터를 받기만 하므로 in 변성 어노테이션을 클래스에 사용했다. 데이터를 생산만 하는 대표적인 인터페이스로는 <code>List</code>가 존재한다. 코틀린의 <code>List</code>는 자바와 달리 불변 컬렉션이기 때문에 아래와 같이 생산자 역할만 하는 함수만 존재한다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">public</span> <span class="token keyword">interface</span> List<span class="token operator">&lt;</span><span class="token keyword">out</span> E<span class="token operator">></span> <span class="token operator">:</span> Collection<span class="token operator">&lt;</span>E<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token comment">// Query Operations</span>
    <span class="token keyword">override</span> <span class="token keyword">val</span> size<span class="token operator">:</span> Int
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Iterator<span class="token operator">&lt;</span>E<span class="token operator">></span>
    <span class="token keyword">public</span> <span class="token keyword">operator</span> <span class="token keyword">fun</span> <span class="token keyword">get</span><span class="token punctuation">(</span>index<span class="token operator">:</span> Int<span class="token punctuation">)</span><span class="token operator">:</span> E
    <span class="token comment">// 생략...</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>그런데 <code>List</code>를 잘 생각해보면 불변 컬렉션일지라도 생산자 역할만 하지는 않는다. <code>contains</code>라던지 <code>containsAll</code> 함수가 존재하기 때문이다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">public</span> <span class="token keyword">interface</span> List<span class="token operator">&lt;</span><span class="token keyword">out</span> E<span class="token operator">></span> <span class="token operator">:</span> Collection<span class="token operator">&lt;</span>E<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">contains</span><span class="token punctuation">(</span>element<span class="token operator">:</span> <span class="token annotation builtin">@UnsafeVariance</span> E<span class="token punctuation">)</span><span class="token operator">:</span> Boolean
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">containsAll</span><span class="token punctuation">(</span>elements<span class="token operator">:</span> Collection<span class="token operator">&lt;</span><span class="token annotation builtin">@UnsafeVariance</span> E<span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>여기서 우리는 <code>@UnsafeVariance</code> 어노테이션을 확인할 수 있다. 이 어노테이션은 안전하지 않은 변성을 감수하고, 타입 어노테이션을 다른 곳에 사용할 수 있도록 해준다. 예를 들어, List 인터
페이스는 out 선언 지점 변성이 걸려 있어 데이터를 생산만 할 수 있지만, <code>contains()</code>나 <code>containsAll()</code>처럼 소비도 하고 싶은 경우에는 <code>@UnsafeVariance</code>를 사용해 함수를 구현할 수 있는 것이다. 당연하게도, 해당 함수를 구현할 때 타입 안정성을 신경 써야 한다.</p>
<h2>제네릭 제약과 제네릭 함수</h2>
<p>이번에는 제네릭 제약과 제네릭 함수에 대해 알아보자. 이전 <code>Cage5</code> 클래스를 살펴보자. <code>Cage5</code> 클래스에는 타입 파라미터로 Animal 클래스의 하위 타입만 받고 싶다. 하지만 실제로는 <code>Int</code>나 <code>String</code>과 같은 타입도 들어갈 수 있다. 어떻게 하면 타입 파라미터 T에 Animal과 Animal의 하위 타입만 들어오게 할 수 있을까? 바로 타입 파라미터에 제약을 주면 된다. 이것을 <strong>제네릭 제약</strong>이라고 부른다.</p>
<p>제네릭 제약을 부여하는 방법은 아래와 같이 타입 상한을 지정해주면 된다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">class</span> Cage5<span class="token operator">&lt;</span>T <span class="token operator">:</span> Animal<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">val</span> animals<span class="token operator">:</span> MutableList<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token operator">=</span> <span class="token function">mutableListOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div></div>
<p>위와 같이 되면 <code>Int</code>나 <code>String</code>과 같은 타입은 못 들어오고 <code>Animal</code> 타입이거나 그 하위 타입만 들어올 수 있다. 만약, 타입 파라미터에 여러 제약을 두고 싶은 경우는 어떻게 할까? 여러 제약이 있을 경우 문법이 달라지는데 아래와 같이 변경이 가능하다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">package</span> me<span class="token punctuation">.</span>sungbin<span class="token punctuation">.</span>generic

<span class="token keyword">class</span> Cage5<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">(</span>
    <span class="token keyword">private</span> <span class="token keyword">val</span> animals<span class="token operator">:</span> MutableList<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token operator">=</span> <span class="token function">mutableListOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">where</span> T <span class="token operator">:</span> Animal<span class="token punctuation">,</span> T <span class="token operator">:</span> Comparable<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> T <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fun</span> <span class="token function">put</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fun</span> <span class="token function">moveFrom</span><span class="token punctuation">(</span>otherCage<span class="token operator">:</span> Cage5<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>otherCage<span class="token punctuation">.</span>animals<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fun</span> <span class="token function">moveTo</span><span class="token punctuation">(</span>otherCage<span class="token operator">:</span> Cage5<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        otherCage<span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fun</span> <span class="token function">printAfterSorting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">map</span> <span class="token punctuation">{</span> it<span class="token punctuation">.</span>name <span class="token punctuation">}</span>
            <span class="token punctuation">.</span><span class="token function">let</span> <span class="token punctuation">{</span> <span class="token function">println</span><span class="token punctuation">(</span>it<span class="token punctuation">)</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>위의 예시는 타입 파라미터가 <code>Animal</code>이거나 그 하위 타입이어야 하며 <code>Comparable</code>을 구현하고 있어야 한다. 그리고 <code>Comparable</code>을 구현하니 <code>printAfterSorting</code>과 같이 정렬 기능도 만들 수 있다.</p>
<p>제네릭 제약은 타입 파라미터에 <code>non-nullable</code> 타입만 들어오게 제약도 할 수 있다. 이전에 만든 <code>Cage2</code> 클래스는 <code>Cage2&#x3C;Animal></code>도 가능하지만 <code>Cage2&#x3C;Animal?></code>도 가능하다. 만약 non-nullable하게 제약을 두고 싶다면 아래와 같이 <code>Any</code>를 상속하게 하면 된다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">package</span> me<span class="token punctuation">.</span>sungbin<span class="token punctuation">.</span>generic

<span class="token keyword">class</span> Cage2<span class="token operator">&lt;</span>T <span class="token operator">:</span> Any<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">val</span> animals<span class="token operator">:</span> MutableList<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token operator">=</span> <span class="token function">mutableListOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">fun</span> <span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> T <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fun</span> <span class="token function">put</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>animal<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fun</span> <span class="token function">moveFrom</span><span class="token punctuation">(</span>otherCage<span class="token operator">:</span> Cage2<span class="token operator">&lt;</span><span class="token keyword">out</span> T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>otherCage<span class="token punctuation">.</span>animals<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">fun</span> <span class="token function">moveTo</span><span class="token punctuation">(</span>otherCage<span class="token operator">:</span> Cage2<span class="token operator">&lt;</span><span class="token keyword">in</span> T<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        otherCage<span class="token punctuation">.</span>animals<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>animals<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>타입 파라미터를 <code>Any</code> 타입의 하위 타입으로 제한하여 nullable한 타입을 못 들어오게 막는 것이다. 더 하나 살펴보자. 사실 이전에 사용한 <code>sorted</code>도 제네릭을 활용한 함수이다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">public</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T <span class="token operator">:</span> Comparable<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">></span> Iterable<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> List<span class="token operator">&lt;</span>T<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">is</span> Collection<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token annotation builtin">@Suppress</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"UNCHECKED_CAST"</span></span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>toTypedArray<span class="token operator">&lt;</span>Comparable<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> Array<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span> <span class="token punctuation">{</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token function">toMutableList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span> <span class="token punctuation">{</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>우리가 클래스에 제네릭을 사용했던 것과 매우 유사하다. 단지 fun 키워드와 함수 사이에 타입 파라미터 <code>&#x3C;T></code>가 들어가는 차이가 있다. 이런 제네릭 함수를 사용하면 유틸성 기능을 개발하는 데 유용하다. 바로 아래와 같이 말이다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> List<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">.</span><span class="token function">hasIntersection</span><span class="token punctuation">(</span>other<span class="token operator">:</span> List<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> intersect other<span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isNotEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span></span></pre></div></div>
<p>이런 제네릭 함수는 확장 함수는 물론, 일반 함수에도 적용할 수 있다.</p>
<h2>타입 소거와 Star Projection</h2>
<p>지금까지 우리는 제네릭에 대한 다양한 개념들을 학습했다. 그런데 사실 제네릭이라는 개념 자체가 JDK 초기부터 있었던 것은 아니다. 제네릭은 JDK1.5부터 도입이 되었으며 Java5버전 컴파일러와 가상머신은 기존 코드와의 하위 호환성을 유지해야 했다. 기존 코드는 타입 인자 자체가 없었고, 하위 호환성을 위해 JVM 진영에서는 런타임 때 타입 정보를 제거하기로 결정했다. 런타임때 타입 정보를 제거하면 타입 정보가 없는 코드나 있는 코드나 동일하게 처리할 수 있었기 때문이다.</p>
<p>실제로 자바에서 <code>List&#x3C;Integer></code>처럼 타입 파라미터를 넣지 않고 타입 정보가 없는 <code>List</code> 타입을 만들 수 있다.</p>
<div class="gatsby-highlight" data-language="java"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-java line-numbers"><code class="language-java"><span class="token class-name">List</span> numbers <span class="token operator">=</span> <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div></div>
<p>물론, 타입 정보가 없으면 컴파일을 하는 시점에 타입 체크를 할 수 없고 타입 안정성이 현저히 떨어지기에 현재는 권장되지 않는다. 여기서 코틀린과 자바의 차이가 한 가지 더 발생한다. 코틀린은 언어를 설계할 때부터 제네릭을 염두했기 때문에 타입 정보가 없는 raw type 제네릭 클래스 인스턴스를 만들 수 없다. 하지만, 코틀린 역시 JDK 위에서 동작하기 때문에 자바와 마찬가지로 런타임 때는 타입 정보를 잃어버리게 된다. 이를 어려운 말로 <strong>타입 소거</strong>라고 한다.</p>
<p>타입 소거를 확인할 수 있는 대표적인 코드를 살펴보자. 아래의 코드를 살펴보자.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">checkStringList</span><span class="token punctuation">(</span><span class="token keyword">data</span><span class="token operator">:</span> Any<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">data</span> <span class="token keyword">is</span> List<span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Error: Cannot check for instance of erased type: List&lt;String></span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>위의 코드는 파라미터로 들어오는 타입이 <code>List&#x3C;String></code>인지 확인하고 싶어하는 코드이다. 하지만 실제 타입 소거로 <code>List&#x3C;String></code>인지는 확인이 불가능하다. 이럴때 코틀린에서는 <code>List</code>인지라도 확인만이라도 하고 싶을때 스타 프로젝션을 이용할 수 있다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">checkList</span><span class="token punctuation">(</span><span class="token keyword">data</span><span class="token operator">:</span> Any<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">data</span> <span class="token keyword">is</span> List<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// data가 List인지 확인할 수 있다.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>이때 <code>&#x3C;*></code>을 스타 프로젝션이라고 부르고 해당 타입 파라미터에 어떤 타입이 들어 있을지 모른다는 뜻으로 생각할 수 있다. 이렇게 스타 프로젝션을 사용하면 data는 List의 기능들을 활용할 수 있다. 바로 아래처럼 말이다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">checkList</span><span class="token punctuation">(</span><span class="token keyword">data</span><span class="token operator">:</span> Any<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">data</span> <span class="token keyword">is</span> List<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">val</span> element<span class="token operator">:</span> Any<span class="token operator">?</span> <span class="token operator">=</span> <span class="token keyword">data</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>리스트에 있는 데이터는 가져올 수 있다. 다만, 해당 타입이 어떠한 타입인지 확인이 불가능하기 때문에 <code>Any?</code>로 받는 것뿐이다. 이렇게 타입이 정확히 알기 어렵기 때문에 아래와 같은 문법은 사용이 어렵다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">checkMutableList</span><span class="token punctuation">(</span><span class="token keyword">data</span><span class="token operator">:</span> Any<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">data</span> <span class="token keyword">is</span> MutableList<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">data</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>위의 코드는 들어오는 data가 <code>MutableList</code>타입인지 확인하는 구문이다. 그런데 정확히 타입을 알기 어렵기 때문에 추가하는 <code>add</code>같은 것들은 막혀있다. 왜냐하면 실제 <code>MutableList</code> 타입과 다른 타입의 원소를 넣을 수 있고 그렇게 되면 타입 안정성을 헤치기 때문이다. 다행히, 때때로 코틀린 컴파일러가 제네릭 타입 파라미터까지 추측 가능한 경우도 있다. 바로 아래와 같은 경우이다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">checkMutableList</span><span class="token punctuation">(</span><span class="token keyword">data</span><span class="token operator">:</span> Collection<span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">data</span> <span class="token keyword">is</span> MutableList<span class="token operator">&lt;</span>String<span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">data</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"Hello World"</span></span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>이 코드에서는 checkMutableList의 파라미터를 받을 때부터 <code>Collection&#x3C;String></code>으로 타입을 확인하고 있기 때문에 타입 추론이 가능한 것이다.</p>
<p>런타임때 타입이 소거되는 것은 제네릭 함수도 마찬가지다. 그래서 아래와 같은 함수는 문법적으로 불가능하다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> T<span class="token punctuation">.</span><span class="token function">toSuperString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> String <span class="token punctuation">{</span>
    <span class="token function">println</span><span class="token punctuation">(</span>T<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">.</span>java<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// T가 무엇인지 런타임 때도 알 수 없기 때문에 오류가 난다</span>
    <span class="token keyword">return</span> <span class="token string-literal singleline"><span class="token string">"Super </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression"><span class="token keyword">this</span></span></span><span class="token string">"</span></span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>이 코드에서 우리는 타입 파라미터인 T 정보가 런타임 때 소거되기 때문에 T 가 어떤 타입인지 알 수 없다. 따라서 <code>T::class.java.name</code>과 같은 코드를 수행할 수 없다.</p>
<blockquote>
<p><code>::class.java</code>는 리플렉션과 관련된 기능으로, 해당 클래스의 정보를 가져온다고 생각하면 된다.</p>
</blockquote>
<p>하지만, 때때로 우리는 T의 정보를 가져오고 싶을 때가 있다. 바로 아래와 같은 경우이다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token comment">// 우리가 원하는 형태</span>
<span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> List<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">.</span><span class="token function">hasAnyInstanceOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">any</span> <span class="token punctuation">{</span> it <span class="token operator">-></span> it <span class="token keyword">is</span> T <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 각 타입별로 만드는 방법</span>
<span class="token keyword">fun</span> List<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">.</span><span class="token function">hasAnyInstanceOfString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">any</span> <span class="token punctuation">{</span> it <span class="token keyword">is</span> String <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">fun</span> List<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">.</span><span class="token function">hasAnyInstanceOfInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">any</span> <span class="token punctuation">{</span> it <span class="token keyword">is</span> Int <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>실제 첫번째 케이스는 불가능하기 때문에 우리는 해당 로직을 구현하려면 각 타입별로 만드는 방법인데 이것은 매우 비효율적인것 같다. 이럴 때 바로 <code>reified</code> 키워드와 <code>inline 함수</code>를 사용할 수 있다. <code>inline 함수</code>는 함수의 본문을 함수 호출 지점에 옮기는 특성을 가지고 있는데, 이 특성을 활용하면 주어진 제네릭 타입 정보를 알 수 있다. 실제로는 inline 함수의 본문이 호출지점에 옮겨갈 테니 타입 정보도 본문 지점에 정적으로 존재할 수 있게 되는 것이다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span><span class="token keyword">reified</span> T<span class="token operator">></span> T<span class="token punctuation">.</span><span class="token function">toSuperString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">println</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token expression">T<span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">.</span>java<span class="token punctuation">.</span>name</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$</span><span class="token expression"><span class="token keyword">this</span></span></span><span class="token string">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">inline</span> <span class="token keyword">fun</span> <span class="token operator">&lt;</span><span class="token keyword">reified</span> T<span class="token operator">></span> List<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">.</span><span class="token function">hasAnyInstanceOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">any</span> <span class="token punctuation">{</span> it <span class="token keyword">is</span> T <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>이렇게 되면 inline 함수 내에서 주어진 원소가 T 타입인지 확인할 수도 있고, T 타입의 정보를 가져올 수도 있다. 물론, <code>reified</code> 키워드가 만능은 아니다. <code>refieid</code> 키워드가 붙은 타입을 이용해 해당 클래스의 생성자를 호출하거나 해당 클래스에 존재하는 동반 객체(companion object)에는 접근할 수 없다. 또한, 최초의 타입 파라미터의 정보가 소실된다면 해당 타입 파라미터를 이용해 <code>reified</code> 키워드가 붙은 타입 파라미터로 사용할 수도 없다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token operator">&lt;</span>T<span class="token operator">></span> List<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">></span><span class="token punctuation">.</span><span class="token function">hasAnyInstanceOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Boolean <span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>filterIsInstance<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 여기에 T를 사용할 수 없다.</span>
        <span class="token punctuation">.</span><span class="token function">isNotEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div></div>
<h2>간단한 팁</h2>
<h3>타입 파라미터 셰도잉</h3>
<p>아래의 코드를 보자.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">class</span> Cage<span class="token operator">&lt;</span>T <span class="token operator">:</span> Animal<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token operator">&lt;</span>T <span class="token operator">:</span> Animal<span class="token operator">></span> <span class="token function">addAnimal</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>위의 코드에 잘못된 점이 무엇일까? Cage에 사용된 타입 파라미터 T 와 addAnimal에 사용된 타입 파라미터 T가 독립적이라는 것이다. 때문에 아래의 잘못된 코드가 정상 동작하는 것이다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> cage <span class="token operator">=</span> CageShadow<span class="token operator">&lt;</span>Goldfish<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    cage<span class="token punctuation">.</span><span class="token function">addAnimal</span><span class="token punctuation">(</span><span class="token function">Goldfish</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"금붕어"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    cage<span class="token punctuation">.</span><span class="token function">addAnimal</span><span class="token punctuation">(</span><span class="token function">Carp</span><span class="token punctuation">(</span><span class="token string-literal singleline"><span class="token string">"잉어"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>이런 경우를 <strong>타입 파라미터 섀도잉</strong>이라고 한다. 우리가 함수 파라미터와 같은 이름의 변수를 함수 지역 변수로 쓸 때 함수 파라미터가 무시되는 것처럼 클래스와 함수에서 같은 타입 파라미터 T를 사용하게 되면 더 큰 범위인 클래스의 타입 파라미터가 무시되는 것이다. 결론적으로 타입 파라미터 셰도잉은 의도하지 않는 동작을 불러일으킬 수 있기 때문에 피하는 것이 좋다. 차라리 아래처럼 코드를 작성하는 것이 좋다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">class</span> Cage<span class="token operator">&lt;</span>T <span class="token operator">:</span> Animal<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">fun</span> <span class="token function">addAnimal</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<h3>제네릭 클래스 상속</h3>
<p>제네릭 클래스 역시 상속이 가능하다. 아래의 코드가 있다고 하자.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">open</span> <span class="token keyword">class</span> CageV1<span class="token operator">&lt;</span>T <span class="token operator">:</span> Animal<span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">open</span> <span class="token keyword">fun</span> <span class="token function">addAnimal</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> T<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<p>위의 클래스를 상속받는 클래스를 만든다고 해보자. 방법은 총 2가지가 존재한다. 먼저 첫번째 방법은 상속할 때 상위 클래스 타입을 적을 때 타입 파라미터도 함께 사용하는 방법이다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">class</span> CageV2<span class="token operator">&lt;</span>T<span class="token operator">:</span> Animal<span class="token operator">></span> <span class="token operator">:</span> CageV1<span class="token operator">&lt;</span>T<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div></div>
<p>두번째 방법으로 상위 클래스 타입을 적을 때 타입 파라미터 대신 특정 타입으로 구체화할 수도 있다. 바로 아래와 같이 말이다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">class</span> GoldFishCageV2 <span class="token operator">:</span> CageV1<span class="token operator">&lt;</span>Goldfish<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">override</span> <span class="token keyword">fun</span> <span class="token function">addAnimal</span><span class="token punctuation">(</span>animal<span class="token operator">:</span> Goldfish<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span></span></pre></div></div>
<h3>제네릭과 Type Alias</h3>
<p>Type Alias와 제네릭을 함께 사용하는 방법을 알아보자. 코틀린에는 Type Alias 라는 기능이 있어 특정 타입을 간단한 이름으로 축약할 수 있다. 제네릭을 사용할 때 타입 이름이 길어질 수 있다는 점을 고려하면 제네릭과 Type Alias는 좋은 조합이다. 예를 들어 아래와 같은 타입이 있다고 해보자.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">fun</span> <span class="token function">handleCacheStore</span><span class="token punctuation">(</span>store<span class="token operator">:</span> Map<span class="token operator">&lt;</span>PersonDtoKey<span class="token punctuation">,</span> MutableList<span class="token operator">&lt;</span>PersonDto<span class="token operator">></span><span class="token operator">></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div></div>
<p>이럴 때 type alias를 사용하면 제네릭으로 길어진 타입을 적절한 타입 이름 대체할 수 있다.</p>
<div class="gatsby-highlight" data-language="kotlin"><div class="markdown-wrapper"><pre style="counter-reset: linenumber NaN" class="language-kotlin line-numbers"><code class="language-kotlin"><span class="token keyword">typealias</span> PersonDtoStore <span class="token operator">=</span> Map<span class="token operator">&lt;</span>PersonDtoKey<span class="token punctuation">,</span> MutableList<span class="token operator">&lt;</span>PersonDto<span class="token operator">></span><span class="token operator">></span>

<span class="token keyword">fun</span> <span class="token function">handleCacheStore</span><span class="token punctuation">(</span>store<span class="token operator">:</span> PersonDtoStore<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span></span></pre></div></div></section></div><style data-emotion="css 1aem3cm">.css-1aem3cm{max-width:900px;width:100%;margin:0 auto;box-sizing:border-box;padding:0;}</style><div class="css-1aem3cm etanzsa0"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8854437638395695" data-ad-slot="5104795204" data-ad-format="auto" data-full-width-responsive="true"></ins></div><section id="comments"></section><style data-emotion="css 1ylimja">.css-1ylimja{max-width:900px;width:100%;margin:4rem auto;box-sizing:border-box;padding:2rem 2rem;border-top:1px solid #EAEAEA;}.css-1ylimja>p{margin-bottom:1.5rem;font-size:1.8rem;color:#000;}.css-1ylimja>a{border:none!important;outline:none!important;-webkit-transition:none!important;transition:none!important;background:none!important;}.css-1ylimja>a:hover{background:none!important;border-color:none!important;}</style><div class="css-1ylimja e1x2ajq20"><style data-emotion="css toutqs">.css-toutqs{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:50px;height:50px;}</style><div size="50" class="css-toutqs e3bks2o1"><style data-emotion="css 1rrjf5z animation-8013mu">.css-1rrjf5z{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-1.2s;animation-delay:-1.2s;-webkit-transform:rotate(0deg) translate(146%);-moz-transform:rotate(0deg) translate(146%);-ms-transform:rotate(0deg) translate(146%);transform:rotate(0deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-1rrjf5z e3bks2o0"></div><style data-emotion="css rcjasa animation-8013mu">.css-rcjasa{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-1.0999999999999999s;animation-delay:-1.0999999999999999s;-webkit-transform:rotate(30deg) translate(146%);-moz-transform:rotate(30deg) translate(146%);-ms-transform:rotate(30deg) translate(146%);transform:rotate(30deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-rcjasa e3bks2o0"></div><style data-emotion="css 1gsjy2j animation-8013mu">.css-1gsjy2j{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-1s;animation-delay:-1s;-webkit-transform:rotate(60deg) translate(146%);-moz-transform:rotate(60deg) translate(146%);-ms-transform:rotate(60deg) translate(146%);transform:rotate(60deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-1gsjy2j e3bks2o0"></div><style data-emotion="css vgd4ml animation-8013mu">.css-vgd4ml{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.8999999999999999s;animation-delay:-0.8999999999999999s;-webkit-transform:rotate(90deg) translate(146%);-moz-transform:rotate(90deg) translate(146%);-ms-transform:rotate(90deg) translate(146%);transform:rotate(90deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-vgd4ml e3bks2o0"></div><style data-emotion="css nlaijy animation-8013mu">.css-nlaijy{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.7999999999999999s;animation-delay:-0.7999999999999999s;-webkit-transform:rotate(120deg) translate(146%);-moz-transform:rotate(120deg) translate(146%);-ms-transform:rotate(120deg) translate(146%);transform:rotate(120deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-nlaijy e3bks2o0"></div><style data-emotion="css ljpo5z animation-8013mu">.css-ljpo5z{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.7s;animation-delay:-0.7s;-webkit-transform:rotate(150deg) translate(146%);-moz-transform:rotate(150deg) translate(146%);-ms-transform:rotate(150deg) translate(146%);transform:rotate(150deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-ljpo5z e3bks2o0"></div><style data-emotion="css 1lesjdn animation-8013mu">.css-1lesjdn{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.5999999999999999s;animation-delay:-0.5999999999999999s;-webkit-transform:rotate(180deg) translate(146%);-moz-transform:rotate(180deg) translate(146%);-ms-transform:rotate(180deg) translate(146%);transform:rotate(180deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-1lesjdn e3bks2o0"></div><style data-emotion="css s8balg animation-8013mu">.css-s8balg{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.4999999999999999s;animation-delay:-0.4999999999999999s;-webkit-transform:rotate(210deg) translate(146%);-moz-transform:rotate(210deg) translate(146%);-ms-transform:rotate(210deg) translate(146%);transform:rotate(210deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-s8balg e3bks2o0"></div><style data-emotion="css q46j30 animation-8013mu">.css-q46j30{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.3999999999999999s;animation-delay:-0.3999999999999999s;-webkit-transform:rotate(240deg) translate(146%);-moz-transform:rotate(240deg) translate(146%);-ms-transform:rotate(240deg) translate(146%);transform:rotate(240deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-q46j30 e3bks2o0"></div><style data-emotion="css vl20np animation-8013mu">.css-vl20np{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.29999999999999993s;animation-delay:-0.29999999999999993s;-webkit-transform:rotate(270deg) translate(146%);-moz-transform:rotate(270deg) translate(146%);-ms-transform:rotate(270deg) translate(146%);transform:rotate(270deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-vl20np e3bks2o0"></div><style data-emotion="css 1qbghc9 animation-8013mu">.css-1qbghc9{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.19999999999999996s;animation-delay:-0.19999999999999996s;-webkit-transform:rotate(300deg) translate(146%);-moz-transform:rotate(300deg) translate(146%);-ms-transform:rotate(300deg) translate(146%);transform:rotate(300deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-1qbghc9 e3bks2o0"></div><style data-emotion="css q9vvjz animation-8013mu">.css-q9vvjz{-webkit-animation:animation-8013mu 1.2s linear infinite;animation:animation-8013mu 1.2s linear infinite;position:absolute;width:24%;height:8%;border-radius:5px;background:#333;-webkit-animation-delay:-0.09999999999999987s;animation-delay:-0.09999999999999987s;-webkit-transform:rotate(330deg) translate(146%);-moz-transform:rotate(330deg) translate(146%);-ms-transform:rotate(330deg) translate(146%);transform:rotate(330deg) translate(146%);}@-webkit-keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}@keyframes animation-8013mu{from{opacity:1;}to{opacity:0.15;}}</style><div class="css-q9vvjz e3bks2o0"></div></div><div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div></div><script>
  
  function gaOptout(){document.cookie=disableStr+'=true; expires=Thu, 31 Dec 2099 23:59:59 UTC;path=/',window[disableStr]=!0}var gaProperty='G-YLQTEB1PVV',disableStr='ga-disable-'+gaProperty;document.cookie.indexOf(disableStr+'=true')>-1&&(window[disableStr]=!0);
  if(!(parseInt(navigator.doNotTrack) === 1 || parseInt(window.doNotTrack) === 1 || parseInt(navigator.msDoNotTrack) === 1 || navigator.doNotTrack === "yes")) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'G-YLQTEB1PVV', 'sungbin.kr', {"sampleRate":5,"siteSpeedSampleRate":10});
      ga('set', 'anonymizeIp', true);
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/advanced-kotlin-제네릭/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-7b05682e3655fba37948.js"],"app":["/app-3fa8deb48819dbe669b2.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-761f28f8d0a06f05d514.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-17ce83b7f594c2c0c1fe.js"],"component---src-pages-posts-tsx":["/component---src-pages-posts-tsx-1ff6a41539a3b7a0f927.js"],"component---src-pages-resume-tsx":["/component---src-pages-resume-tsx-2b2b484591700b0ae13f.js"],"component---src-template-post-tsx":["/component---src-template-post-tsx-7f5def86146fc29c9ead.js"]};/*]]>*/</script><script src="/polyfill-7b05682e3655fba37948.js" nomodule=""></script><script src="/component---src-template-post-tsx-7f5def86146fc29c9ead.js" async=""></script><script src="/386142cf738b86b246078cd67abf8098b07f27c7-c2f146ac4a2834844fc5.js" async=""></script><script src="/app-3fa8deb48819dbe669b2.js" async=""></script><script src="/48aa8186-67735c86ae4015d55662.js" async=""></script><script src="/1593e758-7868fce8d5ccd9520ad2.js" async=""></script><script src="/cc76255b-3222831408842f40a1cb.js" async=""></script><script src="/d0007318-557f95e6f5b855c64727.js" async=""></script><script src="/2425c7c2-8c4925ac74b0ebf7da0a.js" async=""></script><script src="/aec3edcd-33ff14c394bc1bedc44a.js" async=""></script><script src="/3e15977f-5148ca5d1a687341b4e3.js" async=""></script><script src="/f3fee096-8a3be85b266f9ba6922d.js" async=""></script><script src="/63a121f2-37023b2342386794d0fe.js" async=""></script><script src="/b633362c-429f9f687c864375c1ce.js" async=""></script><script src="/framework-96f35882fb1b7fa32ef9.js" async=""></script><script src="/webpack-runtime-8bd3326d799737bed84d.js" async=""></script></body></html>
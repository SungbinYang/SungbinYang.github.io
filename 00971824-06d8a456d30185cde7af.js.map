{"version":3,"file":"00971824-06d8a456d30185cde7af.js","mappings":"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","sources":["webpack://@vallista/blog/../../../src/components/Image/index.tsx"],"sourcesContent":["import { css } from '@emotion/react'\nimport styled from '@emotion/styled'\nimport { useEffect, useRef, useState, VFC } from 'react'\n\nimport { raiseDecimalPoint } from '../../utils/math'\nimport { ImageProps } from './type'\n\n/**\n * # Image\n * \n * 이미지 컴포넌트.\n * \n * 1. 이미지를 불러오기 전 로딩을 진행하고\n * 2. 로딩이 완료되면 fade-in 애니메이션으로 보여줍니다.\n * \n * @param {ImageProps} {@link ImageProps} 기본적인 프롭\n * \n * @example ```tsx\n  <Image\n    src={`https://assets.vercel.com/image/upload/q_auto/front/zeit/og.png`}\n    width={540}\n    height={300}\n    margin={0}\n  />\n\n  <Image\n    src={`https://assets.vercel.com/image/upload/q_auto/front/assets/design/components/triangle.gif`}\n    width={540}\n    height={309}\n    margin={0}\n    caption='Source: giphy.com'\n    captionSpacing={20}\n  />\n * ```\n */\nexport const ImageComponent: VFC<ImageProps> = (props) => {\n  const { caption, captionSpacing, src, ...otherProps } = props\n\n  const ref = useRef<HTMLImageElement>(null)\n  const [imgSrc, setImgSrc] = useState<string | null>(null)\n\n  useEffect(() => {\n    const imageLoader = new Image()\n    imageLoader.src = src\n\n    imageLoader.onload = () => {\n      setImgSrc(src)\n    }\n\n    return () => {\n      imageLoader.onload = null\n    }\n  }, [])\n\n  const height = raiseDecimalPoint((otherProps.height / otherProps.width) * 100)\n  const onlyProps = {\n    src: imgSrc\n  }\n\n  return (\n    <Container {...onlyProps} {...otherProps} show={!!imgSrc}>\n      <Main width={otherProps.width}>\n        <Wrapper height={height}>\n          <Img ref={ref} decoding='async' src={imgSrc ?? ''} />\n        </Wrapper>\n        {caption && <Caption style={{ marginTop: `${captionSpacing}px` }}>{caption}</Caption>}\n      </Main>\n    </Container>\n  )\n}\n\nconst Container = styled.figure<{ show: boolean } & Pick<ImageProps, 'width' | 'height' | 'margin'>>`\n  display: block;\n  text-align: center;\n\n  ${({ show, margin }) => css`\n    margin: ${margin ?? 0}px 0;\n    opacity: ${show ? 1 : 0};\n    transition: opacity 0.2s cubic-bezier(0.455, 0.03, 0.515, 0.955);\n  `}\n`\n\nconst Main = styled.main<Pick<ImageProps, 'width'>>`\n  ${({ width }) => css`\n    width: ${width}px;\n    margin: 0 auto;\n    max-width: 100%;\n  `}\n`\n\nconst Wrapper = styled.div<{ height: number }>`\n  display: flex;\n  justify-content: center;\n  position: relative;\n  ${({ height }) => css`\n    padding-bottom: ${height}%;\n  `}\n`\n\nconst Img = styled.img`\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n`\n\nconst Caption = styled.p`\n  ${({ theme }) => css`\n    color: ${theme.colors.PRIMARY.ACCENT_5};\n    font-size: 0.875rem;\n    text-align: center;\n  `}\n`"],"names":["J","I","caption","b","captionSpacing","A","src","W","c","X","B","C","u","i","N","Z","Image","onload","d","m","height","width","G","Y","show","children","y","H","V","a","ref","decoding","n","style","marginTop","g","process","env","NODE_ENV","target","label","_ref","margin","l","_ref2","_ref3","name","styles","toString","p","_ref4","theme","colors","PRIMARY","ACCENT_5"],"sourceRoot":""}